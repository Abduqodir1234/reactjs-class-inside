{"ast":null,"code":"import _classCallCheck from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import cookie from'react-cookies';import'whatwg-fetch';import React,{Component,useState,useEffect}from'react';import ReactDOM from'react-dom';import PostInline from'./compenents/post';import Contact from'./compenents/contact';import{BrowserRouter,Route,Redirect,Switch}from'react-router-dom';import Navbar from'./compenents/Navbar';import Loading from'./compenents/loading';import axios from'axios';import{I18nProvider,LOCALES}from'./i18n';import translate from'./i18n/tranlate';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var List=/*#__PURE__*/function(_Component){_inherits(List,_Component);var _super=_createSuper(List);function List(props){var _this;_classCallCheck(this,List);_this=_super.call(this,props);_this.state={loading:true,posts:[],cart:0,wishlist:0,lang:''};_this.count=_this.count.bind(_assertThisInitialized(_this));_this.lang2=_this.lang2.bind(_assertThisInitialized(_this));return _this;}_createClass(List,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({posts:[]});fetch('http://127.0.0.1:8000/api1/').then(function(response){return response.json();}).then(function(booksList){if(_this2.state.posts!=booksList){_this2.setState({posts:booksList,loading:false});}});axios.get('http://127.0.0.1:8000/sdlkewrws/').then(function(response){_this2.setState({cart:response.data.cart,wishlist:response.data.wishlist});});}},{key:\"lang2\",value:function lang2(ev){localStorage.setItem('lang',ev);this.setState({lang:ev});}},{key:\"count\",value:function count(){var _this3=this;axios.get('http://127.0.0.1:8000/sdlkewrws/').then(function(response){_this3.setState({cart:response.data.cart,wishlist:response.data.wishlist});});}},{key:\"lang1\",value:function lang1(){if(localStorage.getItem('lang')==='en'){return LOCALES.English;}else if(localStorage.getItem('lang')==='ru'){return LOCALES.Russian;}else if(localStorage.getItem('lang')==='uz'){return LOCALES.Uzbek;}else{console.log(\"Error\");}}},{key:\"render\",value:function render(){var _this4=this;if(this.state.loading){return/*#__PURE__*/_jsx(Loading,{});}else{return/*#__PURE__*/_jsx(I18nProvider,{locale:this.lang1(),children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{state:this.state,lang2:this.lang2}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[translate('list'),\" \"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:this.state.posts.map(function(post){return/*#__PURE__*/_jsx(PostInline,{count:_this4.count,post:post},post.id);})})})]})]})});}}}]);return List;}(Component);export default List;","map":{"version":3,"sources":["C:/For Personal Use/Django Projects/github/django-react/a/reactjs/src/pages/list.jsx"],"names":["cookie","React","Component","useState","useEffect","ReactDOM","PostInline","Contact","BrowserRouter","Route","Redirect","Switch","Navbar","Loading","axios","I18nProvider","LOCALES","translate","List","props","state","loading","posts","cart","wishlist","lang","count","bind","lang2","setState","fetch","then","response","json","booksList","get","data","ev","localStorage","setItem","getItem","English","Russian","Uzbek","console","log","lang1","map","post","id"],"mappings":"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","sourcesContent":["import cookie from 'react-cookies'\r\nimport 'whatwg-fetch'\r\nimport React, { Component,useState,useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PostInline from './compenents/post'\r\nimport Contact from './compenents/contact'\r\nimport {BrowserRouter,Route,Redirect,Switch} from 'react-router-dom'\r\nimport Navbar from './compenents/Navbar';\r\nimport Loading from './compenents/loading';\r\nimport axios from 'axios'\r\nimport { I18nProvider, LOCALES } from './i18n';\r\nimport translate from './i18n/tranlate';\r\n\r\nclass List extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.count = this.count.bind(this)\r\n    this.lang2 = this.lang2.bind(this)\r\n  }\r\n    state = {\r\n      loading:true,\r\n        posts:[],\r\n        cart:0,\r\n        wishlist:0,\r\n        lang:''\r\n      }\r\n      componentDidMount()\r\n      {\r\n        this.setState({\r\n          posts:[],\r\n        })\r\n        fetch('http://127.0.0.1:8000/api1/')\r\n        .then((response) => response.json())\r\n        .then(booksList => {\r\n         if(this.state.posts != booksList)\r\n         {\r\n           \r\n          this.setState({ posts: booksList,loading:false});\r\n         }  \r\n        });\r\n        axios.get('http://127.0.0.1:8000/sdlkewrws/')\r\n        .then(response => {\r\n          this.setState({\r\n            cart:response.data.cart,\r\n            wishlist:response.data.wishlist\r\n          })\r\n        })\r\n      }\r\n      lang2(ev){\r\n        localStorage.setItem('lang',ev);\r\n        this.setState({\r\n            lang:ev\r\n        })\r\n    \r\n      }\r\n      count(){\r\n        axios.get('http://127.0.0.1:8000/sdlkewrws/')\r\n        .then(response => {\r\n        this.setState({\r\n            cart:response.data.cart,\r\n            wishlist:response.data.wishlist\r\n        })\r\n        })\r\n    }\r\n    lang1(){\r\n      if(localStorage.getItem('lang') === 'en'){\r\n          \r\n          return LOCALES.English\r\n      }\r\n      else if(localStorage.getItem('lang')=== 'ru'){\r\n          return LOCALES.Russian \r\n      }\r\n      else if(localStorage.getItem('lang')=== 'uz'){\r\n          return LOCALES.Uzbek\r\n      }\r\n      else{\r\n          console.log(\"Error\")\r\n      }\r\n  }\r\n    render() { \r\n        if(this.state.loading){\r\n          return <Loading />\r\n        }\r\n        else{\r\n          return ( \r\n           <I18nProvider locale={this.lang1()}>\r\n              <div>\r\n                <Navbar state={this.state} lang2={this.lang2} /><br/>\r\n                <div className=\"container\">\r\n                    <h3>{translate('list')} </h3><br/>\r\n                    <div className='container'><div className='row'>{this.state.posts.map(post => <PostInline key = {post.id} count={this.count} post = {post} /> )}</div></div> \r\n                </div>\r\n            </div>\r\n           </I18nProvider>\r\n         );\r\n        }\r\n    }\r\n}\r\n \r\nexport default List;"]},"metadata":{},"sourceType":"module"}