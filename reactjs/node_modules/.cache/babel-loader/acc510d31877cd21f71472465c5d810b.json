{"ast":null,"code":"import _classCallCheck from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import cookie from'react-cookies';import axios from'axios';import Loading from'./loading';import{Link}from\"react-router-dom\";import{I18nProvider,LOCALES}from'../i18n';import translate from'../i18n/tranlate';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navbar=/*#__PURE__*/function(_Component){_inherits(Navbar,_Component);var _super=_createSuper(Navbar);function Navbar(props){var _this;_classCallCheck(this,Navbar);_this=_super.call(this,props);_this.state={user:[],nothing:',',logout:false};_this.authenticated=function(){if(_this.state.user==='False'){return/*#__PURE__*/_jsx(I18nProvider,{locale:_this.lang1(),children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav mr-auto mt-2 mt-lg-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(\"div\",{className:\"nav-link\",children:translate('login')})})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:/*#__PURE__*/_jsx(\"div\",{className:\"nav-link\",children:translate('register')})})})]})});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",style:{marginRight:'70px'},children:[/*#__PURE__*/_jsxs(\"button\",{className:\" btn btn-light dropdown-toggle\",href:\"#\",id:\"navbarDropdown\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user\"}),\" \",_this.state.user[\"username\"]]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu\",\"aria-labelledby\":\"navbarDropdown\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"dropdown-item\",href:\"/profile\",children:\"My Profile\"}),/*#__PURE__*/_jsx(\"a\",{className:\"dropdown-item\",href:\"#\",children:\"Another action\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-divider\"}),/*#__PURE__*/_jsx(\"a\",{className:\"dropdown-item\",style:{cursor:'pointer'},onClick:_this.user,children:\"Log out\"})]})]});}};_this.url=function(){if(_this.state.user!=='False'){return\"/create/product/\";}else{return\"/login/\";}};_this.user=_this.user.bind(_assertThisInitialized(_this));_this.url2=_this.url2.bind(_assertThisInitialized(_this));return _this;}_createClass(Navbar,[{key:\"componentDidMount\",value:function componentDidMount(){var cpomp=this;axios.get('http://127.0.0.1:8000/logggedin/').then(function(response){console.log(response);cpomp.setState({user:response.data});}).catch(function(errors){console.log(\"Request could not be sent\");console.log(errors);});}},{key:\"user\",value:function user(){var cpomp=this;axios.get('http://127.0.0.1:8000/logout1/').then(function(response){cpomp.setState({user:response.data});}).catch(function(errors){console.log(errors);});}},{key:\"url2\",value:function url2(){if(this.state.user!=='False'){return\"/announcement\";}else{return\"/login/\";}}},{key:\"lang1\",value:function lang1(){if(localStorage.getItem('lang')==='en'){return LOCALES.English;}else if(localStorage.getItem('lang')==='ru'){return LOCALES.Russian;}else if(localStorage.getItem('lang')==='uz'){return LOCALES.Uzbek;}else{return LOCALES.Uzbek;}}},{key:\"render\",value:function render(){var _this2=this;var lang=localStorage.getItem('lang')||'en';return/*#__PURE__*/_jsx(I18nProvider,{locale:this.lang1(),children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-expand-md bg-light navbar-light \",children:[/*#__PURE__*/_jsx(\"a\",{className:\"navbar-brand\",href:\"#\",children:translate('logo')}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#collapsibleNavbar\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse\",id:\"collapsibleNavbar\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav mr-auto mt-2 mt-lg-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"div\",{className:\"nav-link\",children:translate('home')})})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/product_list\",children:/*#__PURE__*/_jsx(\"div\",{className:\"nav-link\",children:translate('list')})})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/contact\",children:/*#__PURE__*/_jsx(\"div\",{className:\"nav-link\",children:translate('contact')})})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/animation/\",children:/*#__PURE__*/_jsx(\"div\",{className:\"nav-link\",children:translate('animation')})})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/map/\",children:/*#__PURE__*/_jsx(\"div\",{className:\"nav-link\",children:translate('map')})})}),this.state.user!=='False'?/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:this.url(),children:/*#__PURE__*/_jsx(\"div\",{className:\"nav-link\",children:translate('c_a')})})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:this.url2,children:/*#__PURE__*/_jsx(\"div\",{className:\"nav-link\",children:translate('y_n')})})})]}):'',this.state.user!=='False'?/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/cart/\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"nav-link\",children:[translate('cart'),\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"badge badge-info\",children:[\" \",this.props.state.cart,\" \"]})]})})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"/wishlist/\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"nav-link\",children:[translate('wishlist'),/*#__PURE__*/_jsx(\"div\",{className:\"badge badge-info\",children:this.props.state.wishlist}),\" \"]})})})]}):'']}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-inline my-2 my-lg-0\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:this.authenticated()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-inline my-2 my-lg-0\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"dropdown show\",children:[/*#__PURE__*/_jsx(\"a\",{style:{textDecoration:'none',color:'black'},class:\"dropdown-toggle mr-5 pr-5\",href:\"#\",role:\"button\",id:\"dropdownMenuLink\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\",children:lang}),/*#__PURE__*/_jsxs(\"div\",{class:\"dropdown-menu\",\"aria-labelledby\":\"dropdownMenuLink\",children:[/*#__PURE__*/_jsx(\"div\",{style:{cursor:'pointer'},onClick:function onClick(){return _this2.props.lang2(\"en\");},class:\"dropdown-item\",children:translate('en')}),/*#__PURE__*/_jsx(\"div\",{style:{cursor:'pointer'},onClick:function onClick(){return _this2.props.lang2(\"ru\");},class:\"dropdown-item\",children:translate('ru')}),/*#__PURE__*/_jsx(\"div\",{style:{cursor:'pointer'},onClick:function onClick(){return _this2.props.lang2(\"uz\");},class:\"dropdown-item\",children:translate('uz')})]})]})})]})]})})});}}]);return Navbar;}(Component);export default Navbar;","map":{"version":3,"sources":["C:/For Personal Use/Django Projects/github/django-react/a/reactjs/src/pages/compenents/Navbar.jsx"],"names":["React","Component","cookie","axios","Loading","Link","I18nProvider","LOCALES","translate","Navbar","props","state","user","nothing","logout","authenticated","lang1","marginRight","cursor","url","bind","url2","cpomp","get","then","response","console","log","setState","data","catch","errors","localStorage","getItem","English","Russian","Uzbek","lang","cart","wishlist","textDecoration","color","lang2"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport cookie from 'react-cookies'\r\nimport axios from 'axios'\r\nimport Loading from './loading';\r\nimport {\r\n  Link\r\n} from \"react-router-dom\";\r\nimport {I18nProvider,LOCALES} from '../i18n'\r\nimport translate from '../i18n/tranlate'\r\n\r\nclass Navbar extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.user = this.user.bind(this)\r\n    this.url2 = this.url2.bind(this)\r\n  }\r\n  state = {\r\n    user:[],\r\n    nothing:',',\r\n    logout:false,\r\n  }\r\n\r\n  componentDidMount(){\r\n    let cpomp = this;\r\n    axios.get('http://127.0.0.1:8000/logggedin/')\r\n      .then(response => {\r\n        console.log(response)\r\n        cpomp.setState({\r\n          user:response.data\r\n        })\r\n      })\r\n        .catch(errors =>{\r\n          console.log(\"Request could not be sent\")\r\n          console.log(errors)\r\n        })\r\n  }\r\n  user(){\r\n    let cpomp = this;\r\n    axios.get('http://127.0.0.1:8000/logout1/')\r\n      .then(response => {\r\n        cpomp.setState({\r\n          user:response.data\r\n        })\r\n      })\r\n        .catch(errors =>{\r\n          console.log(errors)\r\n        })  \r\n  }\r\n\r\n\r\n  authenticated = () => {\r\n    if(this.state.user === 'False')\r\n    {\r\n      return (\r\n        <I18nProvider locale = {this.lang1()}>\r\n            <ul className=\"navbar-nav mr-auto mt-2 mt-lg-0\">\r\n              <li className=\"nav-item\">\r\n                  <Link to=\"/login\"><div className='nav-link'>{translate('login')}</div></Link>\r\n              </li> \r\n              <li className=\"nav-item\">\r\n                  <Link to=\"/signup\"><div className='nav-link'>{translate('register')}</div></Link>\r\n              </li> \r\n            </ul>\r\n        </I18nProvider>\r\n     \r\n      )\r\n    }\r\n    else{\r\n      return  (\r\n      <div className='dropdown' style={{marginRight:'70px'}}>  \r\n         <button className=\" btn btn-light dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n            <i className=\"fas fa-user\"></i> {this.state.user[\"username\"]} \r\n        </button>\r\n        <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n          <a className=\"dropdown-item\" href=\"/profile\">My Profile</a>\r\n          <a className=\"dropdown-item\" href=\"#\">Another action</a>\r\n          <div className=\"dropdown-divider\"></div>\r\n          <a className=\"dropdown-item\" style={{cursor:'pointer'}} onClick={this.user}>Log out</a>\r\n        </div>   \r\n      </div>) \r\n    }\r\n  }\r\n  url = () =>{\r\n    if(this.state.user !== 'False'){\r\n      return \"/create/product/\";\r\n    }\r\n    else{\r\n      return \"/login/\";\r\n    }\r\n  }\r\n  url2(){\r\n    if(this.state.user !== 'False'){\r\n      return \"/announcement\";\r\n    }\r\n    else{\r\n      return \"/login/\";\r\n    }\r\n  }\r\n  lang1(){\r\n    if(localStorage.getItem('lang') === 'en'){\r\n        \r\n        return LOCALES.English\r\n    }\r\n    else if(localStorage.getItem('lang')=== 'ru'){\r\n        return LOCALES.Russian \r\n    }\r\n    else if(localStorage.getItem('lang')=== 'uz'){\r\n        return LOCALES.Uzbek\r\n    }\r\n    else{\r\n        return LOCALES.Uzbek\r\n    }\r\n}\r\n  \r\n    render() {\r\n      const lang = localStorage.getItem('lang') || 'en'\r\n        return (\r\n        <I18nProvider locale = {this.lang1()}>\r\n        <div>\r\n                    <nav className=\"navbar navbar-expand-md bg-light navbar-light \">\r\n          <a className=\"navbar-brand\" href=\"#\">{translate('logo')}</a>\r\n          <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapsibleNavbar\">\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"collapsibleNavbar\">\r\n            <ul className=\"navbar-nav mr-auto mt-2 mt-lg-0\">\r\n              <li className=\"nav-item\">\r\n                <Link to=\"/\"><div className ='nav-link'>{translate('home')}</div></Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link to=\"/product_list\"><div className='nav-link'>{translate('list')}</div></Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link to=\"/contact\"><div className=\"nav-link\">{translate('contact')}</div></Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link to=\"/animation/\"><div className=\"nav-link\">{translate('animation')}</div></Link>\r\n              </li> \r\n              <li className=\"nav-item\">\r\n                <Link to=\"/map/\"><div className=\"nav-link\">{translate('map')}</div></Link>\r\n              </li> \r\n              {this.state.user !== 'False' ?\r\n              <React.Fragment>\r\n                <li className=\"nav-item\">\r\n                  <Link to={this.url()}><div className=\"nav-link\">{translate('c_a')}</div></Link>\r\n                </li> \r\n                <li className=\"nav-item\">\r\n                  <Link to={this.url2}><div className=\"nav-link\">{translate('y_n')}</div></Link>\r\n                </li>\r\n              </React.Fragment>\r\n              : ''}\r\n            {this.state.user !== 'False' ? <React.Fragment>\r\n                <li className=\"nav-item\">\r\n                  <Link to='/cart/' ><div className=\"nav-link\">{translate('cart')} <div className=\"badge badge-info\"> {this.props.state.cart} </div></div></Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <Link to='/wishlist/'><div className=\"nav-link\">{translate('wishlist')}<div className=\"badge badge-info\">{this.props.state.wishlist}</div> </div></Link>\r\n                </li></React.Fragment>\r\n              : ''}\r\n            </ul>\r\n            <div className=\"form-inline my-2 my-lg-0\">\r\n                  <br/>\r\n            <div>{this.authenticated()}</div>\r\n            \r\n            </div>\r\n            <div className=\"form-inline my-2 my-lg-0\">\r\n            \r\n          <div class=\"dropdown show\">\r\n            <a style={{textDecoration:'none',color:'black'}} class=\"dropdown-toggle mr-5 pr-5\" href=\"#\" role=\"button\" id=\"dropdownMenuLink\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n              {lang}\r\n            </a>\r\n\r\n            <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\r\n              <div style={{cursor:'pointer'}} onClick = {()=>this.props.lang2(\"en\")} class=\"dropdown-item\">{translate('en')}</div>\r\n              <div style={{cursor:'pointer'}} onClick = {()=>this.props.lang2(\"ru\")} class=\"dropdown-item\">{translate('ru')}</div>\r\n              <div style={{cursor:'pointer'}} onClick = {()=>this.props.lang2(\"uz\")} class=\"dropdown-item\">{translate('uz')}</div>\r\n            </div>\r\n          </div>\r\n              </div>\r\n            </div>  \r\n          </nav>\r\n        </div>\r\n        </I18nProvider>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Navbar;"]},"metadata":{},"sourceType":"module"}