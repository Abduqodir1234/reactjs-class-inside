{"ast":null,"code":"var _jsxFileName = \"C:\\\\For Personal Use\\\\Django Projects\\\\github\\\\django-react\\\\a\\\\reactjs\\\\src\\\\pages\\\\login.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nimport Navbar from './compenents/Navbar';\nimport { Redirect } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: null,\n      password: undefined,\n      success: '',\n      login: false\n    };\n\n    this.empty = () => {\n      setTimeout(() => {\n        this.setState({\n          success: ''\n        });\n      }, 15000);\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handlefield = this.handlefield.bind(this);\n    this.clearform = this.clearform.bind(this);\n    this.clearform = this.clearform.bind(this);\n  }\n\n  componentDidMount() {\n    axios({\n      method: 'POST',\n      url: 'http://127.0.0.1:8000/check_l/',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include'\n    }).then(response => {\n      this.setState({\n        login: response.data\n      });\n    });\n    axios.get('http://127.0.0.1:8000/sdlkewrws/').then(response => {\n      this.setState({\n        cart: response.data.cart,\n        wishlist: response.data.wishlist\n      });\n    });\n  }\n\n  clearform() {\n    this.PostCreateForm.reset();\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    let comp = this;\n    var formData = new FormData();\n    formData.append('username', this.state.username);\n    formData.append('password', this.state.password);\n    axios({\n      method: 'POST',\n      url: 'http://127.0.0.1:8000/sadfasd/',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      data: formData,\n      credentials: 'include'\n    }).then(response => {\n      if (response.data === 'True') {\n        comp.setState({\n          login: true\n        });\n      } else {\n        console.log(response.data);\n        comp.setState({\n          success: response.data\n        });\n      }\n    }).catch(errors => {\n      comp.setState({\n        success: \"Something Went Wrong!\"\n      });\n    });\n    this.clearform();\n  }\n\n  handlefield(event) {\n    event.preventDefault();\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  render() {\n    let csrf = cookie.load('csrftoken');\n\n    if (this.state.login) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 24\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Navbar, {\n          state: this.state\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 25\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 55\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSubmit,\n          ref: el => this.PostCreateForm = el,\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Log in Page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 42\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [this.state.success !== '' ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-danger\",\n              children: this.state.success\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 57\n            }, this) : this.empty(), \"   \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \" Foydalanuvchi nomi:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            type: \"text\",\n            name: \"username\",\n            id: \"\",\n            placeholder: \"Sizning Foydalanuvchi nomingiz\",\n            onChange: this.handlefield,\n            required: \"required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Parol:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Password\",\n            onChange: this.handlefield,\n            required: \"required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-info\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 22\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 21\n      }, this);\n    }\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/For Personal Use/Django Projects/github/django-react/a/reactjs/src/pages/login.jsx"],"names":["React","Component","axios","cookie","Navbar","Redirect","Login","constructor","props","state","username","password","undefined","success","login","empty","setTimeout","setState","handleSubmit","bind","handlefield","clearform","componentDidMount","method","url","headers","credentials","then","response","data","get","cart","wishlist","PostCreateForm","reset","event","preventDefault","comp","formData","FormData","append","console","log","catch","errors","target","name","value","render","csrf","load","el"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios'\r\nimport cookie from 'react-cookies'\r\nimport Navbar from './compenents/Navbar'\r\nimport { Redirect } from 'react-router';\r\nclass Login extends Component {\r\n\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handlefield = this.handlefield.bind(this);\r\n        this.clearform = this.clearform.bind(this);\r\n        this.clearform = this.clearform.bind(this)\r\n    }\r\n    state = {\r\n        username : null,\r\n        password:undefined,\r\n        success:'',\r\n        login:false\r\n    }\r\n    componentDidMount(){\r\n\r\n            axios({\r\n                method:'POST',\r\n                url:'http://127.0.0.1:8000/check_l/',\r\n                headers:{\r\n                    'Content-Type':'application/json',\r\n                   \r\n                },\r\n                credentials:'include'\r\n            })\r\n                .then(response =>{\r\n                    this.setState({\r\n                        login:response.data\r\n                    })\r\n                })\r\n                axios.get('http://127.0.0.1:8000/sdlkewrws/')\r\n                .then(response => {\r\n                    this.setState({\r\n                    cart:response.data.cart,\r\n                    wishlist:response.data.wishlist\r\n                    })\r\n                })\r\n    }    \r\n    empty = () =>{\r\n        setTimeout(() => {\r\n            this.setState({\r\n                success:''\r\n            })\r\n        }, 15000);\r\n    }\r\n    clearform(){\r\n        this.PostCreateForm.reset();\r\n    }\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        let comp = this;\r\n        var formData = new FormData()\r\n        formData.append('username',this.state.username);\r\n        formData.append('password',this.state.password);\r\n        axios({\r\n            method:'POST',\r\n            url:'http://127.0.0.1:8000/sadfasd/',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n           \r\n            },\r\n            data:formData,\r\n            credentials:'include'\r\n        })\r\n        .then(response => {\r\n            if(response.data=== 'True')\r\n            {\r\n\r\n                comp.setState({\r\n                    login:true\r\n                })\r\n            }\r\n            else{\r\n                console.log(response.data)\r\n                comp.setState({\r\n                    success:response.data\r\n                })\r\n            }\r\n            \r\n        })\r\n        .catch(errors => {\r\n            comp.setState({\r\n                success:\"Something Went Wrong!\"\r\n            })\r\n     \r\n        })\r\n        this.clearform()\r\n    }\r\n    handlefield(event)\r\n    {\r\n        event.preventDefault();\r\n        this.setState({\r\n            [event.target.name]:event.target.value,\r\n        })\r\n        \r\n    }\r\n    \r\n    render() {\r\n        let csrf = cookie.load('csrftoken');\r\n      \r\n            if(this.state.login)\r\n            {\r\n                return <Redirect to='/' />\r\n            }\r\n            else{\r\n                return ( \r\n            \r\n                    <div>\r\n                        <Navbar state={this.state} /> <br/>\r\n                     \r\n                     \r\n                     <form onSubmit={this.handleSubmit} ref = {(el) => this.PostCreateForm = el} className=\"container\">\r\n                     <h2>Log in Page</h2><br/>\r\n                     <div >{this.state.success !== '' ? <div className='alert alert-danger'>{this.state.success}</div> : this.empty()}   </div>\r\n                         <label> Foydalanuvchi nomi:</label>\r\n                              <input className='form-control' type=\"text\" name=\"username\" id=\"\" placeholder='Sizning Foydalanuvchi nomingiz' onChange={this.handlefield} required = 'required' />\r\n                         <br/>\r\n                         <label>Parol:</label>\r\n                              <input className='form-control' type=\"password\" name=\"password\" placeholder='Password' onChange={this.handlefield} required = 'required' />\r\n                         <br/>\r\n                              <br/>\r\n                              \r\n                         <button type='submit' className='btn btn-info'>Submit</button>\r\n                         \r\n                     </form>\r\n                 </div> \r\n                  );\r\n            }\r\n              \r\n      \r\n\r\n    }\r\n}\r\n \r\nexport default Login ;"]},"metadata":{},"sourceType":"module"}