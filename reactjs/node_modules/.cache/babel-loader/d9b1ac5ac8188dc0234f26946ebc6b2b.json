{"ast":null,"code":"import _defineProperty from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import cookie from'react-cookies';import Navbar from'./Navbar';import{Redirect}from'react-router';import translate from'../i18n/tranlate';import{I18nProvider,LOCALES}from'../i18n';import{FormattedMessage}from'react-intl';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Contact=/*#__PURE__*/function(_Component){_inherits(Contact,_Component);var _super=_createSuper(Contact);function Contact(props){var _this;_classCallCheck(this,Contact);_this=_super.call(this,props);_this.state=_defineProperty({name:null,number:null,msg:null,success:'',errors:null,csrfmiddlewaretoken:cookie.load('csrftoken'),cart:0,wishlist:0},\"success\",'');_this.empty=function(){setTimeout(function(){_this.setState({success:''});},9000);};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handlefield=_this.handlefield.bind(_assertThisInitialized(_this));_this.data1=_this.data1.bind(_assertThisInitialized(_this));_this.clearform=_this.clearform.bind(_assertThisInitialized(_this));_this.clearform=_this.clearform.bind(_assertThisInitialized(_this));_this.lang2=_this.lang2.bind(_assertThisInitialized(_this));return _this;}_createClass(Contact,[{key:\"data1\",value:function data1(data){var csrf=cookie.load('csrftoken');console.log(data);return/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:this.state.success});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('http://127.0.0.1:8000/sdlkewrws/').then(function(response){_this2.setState({cart:response.data.cart,wishlist:response.data.wishlist});});}},{key:\"clearform\",value:function clearform(){this.PostCreateForm.reset();}},{key:\"handleSubmit\",value:function handleSubmit(event){var _this3=this;console.log(this.state);var comp=this;var csrf=cookie.load('csrftoken');event.preventDefault();axios({method:'POST',url:'http://127.0.0.1:8000/contact1/',headers:{'Content-Type':'application/json','X-CSRFToken':csrf},data:this.state,credentials:'include'}).then(function(response){comp.setState({success:response.data});setTimeout(function(){_this3.setState({success:''});},3000);}).catch(function(errors){comp.setState({success:\"Something Went Wrong!\"});console.log(errors);});console.log('Handle Submit');this.clearform();}},{key:\"handlefield\",value:function handlefield(event){event.preventDefault();this.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"lang1\",value:function lang1(){if(localStorage.getItem('lang')==='en'){return LOCALES.English;}else if(localStorage.getItem('lang')==='ru'){return LOCALES.Russian;}else if(localStorage.getItem('lang')==='uz'){return LOCALES.Uzbek;}else{console.log(\"Error\");}}},{key:\"lang2\",value:function lang2(ev){localStorage.setItem('lang',ev);this.setState({lang:ev});}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsx(I18nProvider,{locale:this.lang1(),children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{state:this.state,lang2:this.lang2}),\" \",/*#__PURE__*/_jsx(\"br\",{}),this.state.success!==''?/*#__PURE__*/_jsxs(\"center\",{children:[\"  \",/*#__PURE__*/_jsxs(\"div\",{class:\"alert alert-info alert-dismissible fade show fixed-top\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"close\",\"data-dismiss\":\"alert\",children:\"\\xD7\"}),this.state.success]})]}):'',/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,ref:function ref(el){return _this4.PostCreateForm=el;},className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:translate('contact')}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\" \",translate('name')]}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",name:\"name\",id:\"\",onChange:this.handlefield,required:\"required\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:translate('number')}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"number\",name:\"number\",placeholder:\"example:912345678\",onChange:this.handlefield,required:\"required\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\" \",translate('message')]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",name:\"msg\",cols:\"50\",rows:\"10\",onChange:this.handlefield,required:\"required\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-info\",children:translate('submit')})]})]})});}}]);return Contact;}(Component);export default Contact;","map":{"version":3,"sources":["C:/For Personal Use/Django Projects/github/django-react/a/reactjs/src/pages/compenents/contact.jsx"],"names":["React","Component","axios","cookie","Navbar","Redirect","translate","I18nProvider","LOCALES","FormattedMessage","Contact","props","state","name","number","msg","success","errors","csrfmiddlewaretoken","load","cart","wishlist","empty","setTimeout","setState","handleSubmit","bind","handlefield","data1","clearform","lang2","data","csrf","console","log","color","get","then","response","PostCreateForm","reset","event","comp","preventDefault","method","url","headers","credentials","catch","target","value","localStorage","getItem","English","Russian","Uzbek","ev","setItem","lang","lang1","el"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios'\r\nimport cookie from 'react-cookies'\r\nimport Navbar from './Navbar'\r\nimport { Redirect } from 'react-router';\r\nimport translate from '../i18n/tranlate';\r\nimport { I18nProvider, LOCALES } from '../i18n';\r\nimport { FormattedMessage } from 'react-intl';\r\nclass Contact extends Component {\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handlefield = this.handlefield.bind(this);\r\n        this.data1 = this.data1.bind(this);\r\n        this.clearform = this.clearform.bind(this);\r\n        this.clearform = this.clearform.bind(this);\r\n        this.lang2 = this.lang2.bind(this)\r\n    }\r\n    state = {\r\n        name : null,\r\n        number:null,\r\n        msg:null,\r\n        success:'',\r\n        errors:null,\r\n        csrfmiddlewaretoken:cookie.load('csrftoken'),\r\n        cart:0,\r\n        wishlist:0,\r\n        success:''\r\n    }\r\n    data1(data){\r\n        let csrf = cookie.load('csrftoken');\r\n        console.log(data)\r\n            return <div style={{color:'red'}}>\r\n                        {this.state.success}\r\n          </div>\r\n    }\r\n    componentDidMount(){\r\n        axios.get('http://127.0.0.1:8000/sdlkewrws/')\r\n        .then(response => {\r\n            this.setState({\r\n            cart:response.data.cart,\r\n            wishlist:response.data.wishlist\r\n            })\r\n        })\r\n      }    \r\n    empty = () =>{\r\n        setTimeout(() => {\r\n            this.setState({\r\n                success:''\r\n            })\r\n        }, 9000);\r\n    }\r\n    clearform(){\r\n        this.PostCreateForm.reset();\r\n    }\r\n    handleSubmit(event){\r\n        console.log(this.state)\r\n        let comp = this\r\n        let csrf = cookie.load('csrftoken');\r\n        event.preventDefault();\r\n        axios({\r\n            method:'POST',\r\n            url:'http://127.0.0.1:8000/contact1/',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                'X-CSRFToken':csrf\r\n            },\r\n            data:this.state,\r\n            credentials:'include'\r\n        })\r\n        .then(response => {\r\n            comp.setState({\r\n                success:response.data\r\n            })\r\n            setTimeout(() => {\r\n               this.setState({\r\n                   success:''\r\n               }) \r\n            }, 3000);\r\n            \r\n        })\r\n        .catch(errors => {\r\n            comp.setState({\r\n                success:\"Something Went Wrong!\"\r\n            })\r\n            console.log(errors)\r\n        })\r\n        console.log('Handle Submit');\r\n        this.clearform()\r\n    }\r\n    handlefield(event)\r\n    {\r\n        event.preventDefault();\r\n        this.setState({\r\n            [event.target.name]:event.target.value,\r\n        })\r\n        \r\n    }\r\n    lang1(){\r\n        if(localStorage.getItem('lang') === 'en'){\r\n            \r\n            return LOCALES.English\r\n        }\r\n        else if(localStorage.getItem('lang')=== 'ru'){\r\n            return LOCALES.Russian \r\n        }\r\n        else if(localStorage.getItem('lang')=== 'uz'){\r\n            return LOCALES.Uzbek\r\n        }\r\n        else{\r\n            console.log(\"Error\")\r\n        }\r\n    }\r\n    lang2(ev){\r\n        localStorage.setItem('lang',ev);\r\n        this.setState({\r\n            lang:ev\r\n        })\r\n    \r\n      }\r\n    render() {\r\n            return ( \r\n            <I18nProvider locale={this.lang1()}>\r\n                 <div>\r\n                    <Navbar state={this.state} lang2={this.lang2} /> <br/>\r\n                 \r\n                    {this.state.success !== '' ?   <center>  <div class=\"alert alert-info alert-dismissible fade show fixed-top\">\r\n    <button type=\"button\" class=\"close\" data-dismiss=\"alert\">&times;</button>{this.state.success}</div></center> : ''}\r\n                 <form onSubmit={this.handleSubmit} ref = {(el) => this.PostCreateForm = el} className=\"container\">\r\n                 <h2>{translate('contact')}</h2><br/>\r\n                     <label> {translate('name')}</label>\r\n                        <input className='form-control' type=\"text\" name=\"name\" id=\"\"  onChange={this.handlefield} required = 'required' />\r\n                     <br/>\r\n                     <label>{translate('number')}</label>\r\n                        <input className='form-control' type=\"number\" name=\"number\" placeholder=\"example:912345678\" onChange={this.handlefield} required = 'required' />\r\n                     <br/>\r\n                     <label> {translate('message')}</label> <br/>\r\n                          <textarea className='form-control' name=\"msg\" cols=\"50\" rows=\"10\" onChange={this.handlefield} required = 'required'></textarea>\r\n                     <br/>\r\n                          \r\n                     <button type='submit' className='btn btn-info'>{translate('submit')}</button>\r\n                     \r\n                 </form>\r\n             </div>\r\n            </I18nProvider>\r\n                \r\n              );\r\n              \r\n             \r\n      \r\n\r\n    }\r\n}\r\n \r\nexport default Contact ;"]},"metadata":{},"sourceType":"module"}