{"ast":null,"code":"import _classCallCheck from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import'whatwg-fetch';import React,{Component}from'react';import Navbar from'./compenents/Navbar';import Loading from'./compenents/loading';import Announce_post from'./compenents/announce_part';import axios from'axios';import{I18nProvider,LOCALES}from'./i18n';import translate from'./i18n/tranlate';import{Redirect}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Announcements=/*#__PURE__*/function(_Component){_inherits(Announcements,_Component);var _super=_createSuper(Announcements);function Announcements(props){var _this;_classCallCheck(this,Announcements);_this=_super.call(this,props);_this.state={loading:true,posts:[],cart:0,wishlist:0,lang:''};_this.componentDidMount=_this.componentDidMount.bind(_assertThisInitialized(_this));_this.count=_this.count.bind(_assertThisInitialized(_this));_this.lang2=_this.lang2.bind(_assertThisInitialized(_this));return _this;}_createClass(Announcements,[{key:\"lang2\",value:function lang2(ev){localStorage.setItem('lang',ev);this.setState({lang:ev});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({posts:[]});axios.get(\"http://127.0.0.1:8000/asdfasdf/\").then(function(booksList){console.log(booksList.data);if(_this2.state.posts!==booksList.data){_this2.setState({posts:booksList.data,loading:false});}});axios.get('http://127.0.0.1:8000/sdlkewrws/').then(function(response){_this2.setState({cart:response.data.cart,wishlist:response.data.wishlist});});}},{key:\"count\",value:function count(){var _this3=this;axios.get('http://127.0.0.1:8000/sdlkewrws/').then(function(response){_this3.setState({cart:response.data.cart,wishlist:response.data.wishlist});});}},{key:\"lang1\",value:function lang1(){if(localStorage.getItem('lang')==='en'){return LOCALES.English;}else if(localStorage.getItem('lang')==='ru'){return LOCALES.Russian;}else if(localStorage.getItem('lang')==='uz'){return LOCALES.Uzbek;}else{console.log(\"Error\");}}},{key:\"render\",value:function render(){var _this4=this;if(this.props.state.user==='False'){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}else{if(this.state.loading){return/*#__PURE__*/_jsx(Loading,{});}else{return/*#__PURE__*/_jsx(I18nProvider,{locale:this.lang1(),children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:translate('Your_Announcement')}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:translate('announce_info')}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:this.state.posts.length>0?/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"table\",{class:\"table table-hover\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:translate('p_name')}),/*#__PURE__*/_jsx(\"td\",{children:translate('date')}),/*#__PURE__*/_jsx(\"td\",{children:translate('edit')}),/*#__PURE__*/_jsx(\"td\",{children:translate('delete')})]}),this.state.posts.map(function(post){return/*#__PURE__*/_jsx(Announce_post,{mount:_this4.componentDidMount,post:post},post.id);})]})})}):/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:\"You have never create any announcement\"})})})]})})});}}}}]);return Announcements;}(Component);export default Announcements;","map":{"version":3,"sources":["C:/For Personal Use/Django Projects/github/django-react/a/reactjs/src/pages/announcements.jsx"],"names":["React","Component","Navbar","Loading","Announce_post","axios","I18nProvider","LOCALES","translate","Redirect","Announcements","props","state","loading","posts","cart","wishlist","lang","componentDidMount","bind","count","lang2","ev","localStorage","setItem","setState","get","then","booksList","console","log","data","response","getItem","English","Russian","Uzbek","user","lang1","length","map","post","id"],"mappings":"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","sourcesContent":["\r\nimport 'whatwg-fetch'\r\nimport React, { Component } from 'react';\r\nimport Navbar from './compenents/Navbar';\r\nimport Loading from './compenents/loading';\r\nimport Announce_post from './compenents/announce_part';\r\nimport axios from 'axios';\r\nimport { I18nProvider, LOCALES } from './i18n';\r\nimport translate from './i18n/tranlate';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass Announcements extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.componentDidMount = this.componentDidMount.bind(this);\r\n    this.count = this.count.bind(this);\r\n    this.lang2 = this.lang2.bind(this)\r\n  }\r\n  state = {\r\n    loading: true,\r\n    posts: [],\r\n    cart: 0,\r\n    wishlist: 0,\r\n    lang: ''\r\n  }\r\n  lang2(ev) {\r\n    localStorage.setItem('lang', ev);\r\n    this.setState({\r\n      lang: ev\r\n    })\r\n\r\n  }\r\n  componentDidMount() {\r\n    this.setState({\r\n      posts: [],\r\n    })\r\n    axios.get(\"http://127.0.0.1:8000/asdfasdf/\")\r\n      .then(booksList => {\r\n        console.log(booksList.data)\r\n        if (this.state.posts !== booksList.data) {\r\n          this.setState({ posts: booksList.data, loading: false });\r\n        }\r\n      });\r\n    axios.get('http://127.0.0.1:8000/sdlkewrws/')\r\n      .then(response => {\r\n        this.setState({\r\n          cart: response.data.cart,\r\n          wishlist: response.data.wishlist\r\n        })\r\n      })\r\n  }\r\n  count() {\r\n    axios.get('http://127.0.0.1:8000/sdlkewrws/')\r\n      .then(response => {\r\n        this.setState({\r\n          cart: response.data.cart,\r\n          wishlist: response.data.wishlist\r\n        })\r\n      })\r\n  }\r\n  lang1() {\r\n    if (localStorage.getItem('lang') === 'en') {\r\n\r\n      return LOCALES.English\r\n    }\r\n    else if (localStorage.getItem('lang') === 'ru') {\r\n      return LOCALES.Russian\r\n    }\r\n    else if (localStorage.getItem('lang') === 'uz') {\r\n      return LOCALES.Uzbek\r\n    }\r\n    else {\r\n      console.log(\"Error\")\r\n    }\r\n  }\r\n  render() {\r\n    if (this.props.state.user === 'False') {\r\n      return <Redirect to=\"/\" />\r\n    }\r\n    else {\r\n      if (this.state.loading) {\r\n        return <Loading />\r\n      }\r\n      else {\r\n        return (\r\n          <I18nProvider locale={this.lang1()}>\r\n            <div>\r\n\r\n              <div className=\"container\">\r\n                <h3>{translate('Your_Announcement')}</h3><br />\r\n                <p>{translate('announce_info')}</p>\r\n                <div className='container'>\r\n                  <div className='row'>\r\n                    {this.state.posts.length > 0 ?\r\n                      <React.Fragment>\r\n                        <table class=\"table table-hover\">\r\n                          <tbody>\r\n                            <tr>\r\n                              <td>{translate('p_name')}</td>\r\n                              <td>{translate('date')}</td>\r\n                              <td>{translate('edit')}</td>\r\n                              <td>{translate('delete')}</td>\r\n                            </tr>\r\n                            {this.state.posts.map(post => <Announce_post key={post.id} mount={this.componentDidMount} post={post} />)}\r\n                          </tbody>\r\n                        </table>\r\n                      </React.Fragment> : <div className='alert alert-danger'>You have never create any announcement</div>}\r\n                  </div></div>\r\n              </div>\r\n            </div>\r\n\r\n          </I18nProvider>\r\n        );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default Announcements;"]},"metadata":{},"sourceType":"module"}