{"ast":null,"code":"import _classCallCheck from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import cookie from'react-cookies';import axios from'axios';import Loading from'./loading';import{Link,NavLink}from\"react-router-dom\";import{I18nProvider,LOCALES}from'../i18n';import translate from'../i18n/tranlate';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navbar=/*#__PURE__*/function(_Component){_inherits(Navbar,_Component);var _super=_createSuper(Navbar);function Navbar(props){var _this;_classCallCheck(this,Navbar);_this=_super.call(this,props);_this.state={user:[],nothing:',',logout:false};_this.authenticated=function(){if(_this.state.user==='False'){return/*#__PURE__*/_jsx(I18nProvider,{locale:_this.lang1(),children:/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav mr-auto mt-2 mt-lg-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{exact:true,to:\"/login\",children:/*#__PURE__*/_jsx(\"div\",{className:\"nav-link\",children:translate('login')})})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{exact:true,to:\"/signup\",children:/*#__PURE__*/_jsx(\"div\",{className:\"nav-link\",children:translate('register')})})})]})});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",style:{marginRight:'70px'},children:[/*#__PURE__*/_jsxs(\"button\",{className:\" btn btn-light dropdown-toggle\",href:\"#\",id:\"navbarDropdown\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user\"}),\" \",_this.state.user[\"username\"]]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu\",\"aria-labelledby\":\"navbarDropdown\",children:[/*#__PURE__*/_jsx(\"a\",{className:\"dropdown-item\",href:\"/profile\",children:\"My Profile\"}),/*#__PURE__*/_jsx(\"a\",{className:\"dropdown-item\",href:\"#\",children:\"Another action\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-divider\"}),/*#__PURE__*/_jsx(\"a\",{className:\"dropdown-item\",style:{cursor:'pointer'},onClick:_this.user,children:\"Log out\"})]})]});}};_this.url=function(){if(_this.state.user!=='False'){return\"/create/product/\";}else{return\"/login/\";}};_this.user=_this.user.bind(_assertThisInitialized(_this));_this.url2=_this.url2.bind(_assertThisInitialized(_this));return _this;}_createClass(Navbar,[{key:\"componentDidMount\",value:function componentDidMount(){var cpomp=this;var csrf=cookie.load('csrftoken');axios.get('http://127.0.0.1:8000/logggedin/').then(function(response){x;cpomp.setState({user:response.data});}).catch(function(errors){console.log(\"Request could not be sent\");});console.log(cpomp.state.user,\"User\");}},{key:\"user\",value:function user(){var cpomp=this;axios.get('http://127.0.0.1:8000/logout1/').then(function(response){cpomp.setState({user:response.data});}).catch(function(errors){console.log(errors);});}},{key:\"url2\",value:function url2(){if(this.state.user!=='False'){return\"/announcement\";}else{return\"/login/\";}}},{key:\"lang1\",value:function lang1(){if(localStorage.getItem('lang')==='en'){return LOCALES.English;}else if(localStorage.getItem('lang')==='ru'){return LOCALES.Russian;}else if(localStorage.getItem('lang')==='uz'){return LOCALES.Uzbek;}else{return LOCALES.Uzbek;}}},{key:\"render\",value:function render(){var _this2=this;var lang=localStorage.getItem('lang')||'en';return/*#__PURE__*/_jsx(I18nProvider,{locale:this.lang1(),children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-expand-md bg-light navbar-light \",children:[/*#__PURE__*/_jsx(\"a\",{className:\"navbar-brand\",href:\"#\",children:translate('logo')}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#collapsibleNavbar\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse\",id:\"collapsibleNavbar\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav mr-auto mt-2 mt-lg-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{exact:true,to:\"/\",children:/*#__PURE__*/_jsx(\"div\",{className:\"nav-link\",children:translate('home')})})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{exact:true,to:\"/product_list\",children:/*#__PURE__*/_jsx(\"div\",{className:\"nav-link\",children:translate('list')})})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{exact:true,to:\"/contact\",children:/*#__PURE__*/_jsx(\"div\",{className:\"nav-link\",children:translate('contact')})})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{exact:true,to:\"/map/\",children:/*#__PURE__*/_jsx(\"div\",{className:\"nav-link\",children:translate('map')})})}),this.state.user!=='False'?/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{exact:true,to:this.url(),children:/*#__PURE__*/_jsx(\"div\",{className:\"nav-link\",children:translate('c_a')})})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{exact:true,to:this.url2,children:/*#__PURE__*/_jsx(\"div\",{className:\"nav-link\",children:translate('y_a')})})})]}):'',this.state.user!=='False'?/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{exact:true,to:\"/cart/\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"nav-link\",children:[translate('cart'),\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"badge badge-info\",children:[\" \",this.props.state.cart,\" \"]})]})})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(NavLink,{exact:true,to:\"/wishlist/\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"nav-link\",children:[translate('wishlist'),/*#__PURE__*/_jsx(\"div\",{className:\"badge badge-info\",children:this.props.state.wishlist}),\" \"]})})})]}):'']}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-inline my-2 my-lg-0\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{children:this.authenticated()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-inline my-2 my-lg-0\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"dropdown show\",children:[/*#__PURE__*/_jsx(\"a\",{style:{textDecoration:'none',color:'black'},class:\"dropdown-toggle mr-5 pr-5\",href:\"#\",role:\"button\",id:\"dropdownMenuLink\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\",children:lang}),/*#__PURE__*/_jsxs(\"div\",{class:\"dropdown-menu\",\"aria-labelledby\":\"dropdownMenuLink\",children:[/*#__PURE__*/_jsx(\"div\",{style:{cursor:'pointer'},onClick:function onClick(){return _this2.props.lang2(\"en\");},class:\"dropdown-item\",children:translate('en')}),/*#__PURE__*/_jsx(\"div\",{style:{cursor:'pointer'},onClick:function onClick(){return _this2.props.lang2(\"ru\");},class:\"dropdown-item\",children:translate('ru')}),/*#__PURE__*/_jsx(\"div\",{style:{cursor:'pointer'},onClick:function onClick(){return _this2.props.lang2(\"uz\");},class:\"dropdown-item\",children:translate('uz')})]})]})})]})]})})});}}]);return Navbar;}(Component);export default Navbar;","map":{"version":3,"sources":["C:/For Personal Use/Django Projects/github/django-react/a/reactjs/src/pages/compenents/Navbar.jsx"],"names":["React","Component","cookie","axios","Loading","Link","NavLink","I18nProvider","LOCALES","translate","Navbar","props","state","user","nothing","logout","authenticated","lang1","marginRight","cursor","url","bind","url2","cpomp","csrf","load","get","then","response","x","setState","data","catch","errors","console","log","localStorage","getItem","English","Russian","Uzbek","lang","cart","wishlist","textDecoration","color","lang2"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport cookie from 'react-cookies'\r\nimport axios from 'axios'\r\nimport Loading from './loading';\r\nimport {\r\n  Link, NavLink\r\n} from \"react-router-dom\";\r\nimport { I18nProvider, LOCALES } from '../i18n'\r\nimport translate from '../i18n/tranlate'\r\n\r\nclass Navbar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.user = this.user.bind(this)\r\n    this.url2 = this.url2.bind(this)\r\n  }\r\n  state = {\r\n    user: [],\r\n    nothing: ',',\r\n    logout: false,\r\n  }\r\n\r\n  componentDidMount() {\r\n    let cpomp = this;\r\n    let csrf = cookie.load('csrftoken')\r\n    axios.get('http://127.0.0.1:8000/logggedin/')\r\n      .then(response => {\r\n        x\r\n        cpomp.setState({\r\n          user: response.data\r\n        })\r\n      })\r\n      .catch(errors => {\r\n        console.log(\"Request could not be sent\")\r\n      })\r\n    console.log(cpomp.state.user, \"User\");\r\n  }\r\n  user() {\r\n    let cpomp = this;\r\n    axios.get('http://127.0.0.1:8000/logout1/')\r\n      .then(response => {\r\n        cpomp.setState({\r\n          user: response.data\r\n        })\r\n      })\r\n      .catch(errors => {\r\n        console.log(errors)\r\n      })\r\n  }\r\n\r\n\r\n  authenticated = () => {\r\n    if (this.state.user === 'False') {\r\n      return (\r\n        <I18nProvider locale={this.lang1()}>\r\n          <ul className=\"navbar-nav mr-auto mt-2 mt-lg-0\">\r\n            <li className=\"nav-item\">\r\n              <NavLink exact to=\"/login\"><div className='nav-link'>{translate('login')}</div></NavLink>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n              <NavLink exact to=\"/signup\"><div className='nav-link'>{translate('register')}</div></NavLink>\r\n            </li>\r\n          </ul>\r\n        </I18nProvider>\r\n\r\n      )\r\n    }\r\n    else {\r\n      return (\r\n        <div className='dropdown' style={{ marginRight: '70px' }}>\r\n          <button className=\" btn btn-light dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n            <i className=\"fas fa-user\"></i> {this.state.user[\"username\"]}\r\n          </button>\r\n          <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\r\n            <a className=\"dropdown-item\" href=\"/profile\">My Profile</a>\r\n            <a className=\"dropdown-item\" href=\"#\">Another action</a>\r\n            <div className=\"dropdown-divider\"></div>\r\n            <a className=\"dropdown-item\" style={{ cursor: 'pointer' }} onClick={this.user}>Log out</a>\r\n          </div>\r\n        </div>)\r\n    }\r\n  }\r\n  url = () => {\r\n    if (this.state.user !== 'False') {\r\n      return \"/create/product/\";\r\n    }\r\n    else {\r\n      return \"/login/\";\r\n    }\r\n  }\r\n  url2() {\r\n    if (this.state.user !== 'False') {\r\n      return \"/announcement\";\r\n    }\r\n    else {\r\n      return \"/login/\";\r\n    }\r\n  }\r\n  lang1() {\r\n    if (localStorage.getItem('lang') === 'en') {\r\n\r\n      return LOCALES.English\r\n    }\r\n    else if (localStorage.getItem('lang') === 'ru') {\r\n      return LOCALES.Russian\r\n    }\r\n    else if (localStorage.getItem('lang') === 'uz') {\r\n      return LOCALES.Uzbek\r\n    }\r\n    else {\r\n      return LOCALES.Uzbek\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const lang = localStorage.getItem('lang') || 'en'\r\n    return (\r\n      <I18nProvider locale={this.lang1()}>\r\n        <div>\r\n          <nav className=\"navbar navbar-expand-md bg-light navbar-light \">\r\n            <a className=\"navbar-brand\" href=\"#\">{translate('logo')}</a>\r\n            <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapsibleNavbar\">\r\n              <span className=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n            <div className=\"collapse navbar-collapse\" id=\"collapsibleNavbar\">\r\n              <ul className=\"navbar-nav mr-auto mt-2 mt-lg-0\">\r\n                <li className=\"nav-item\">\r\n                  <NavLink exact to=\"/\"><div className='nav-link'>{translate('home')}</div></NavLink>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <NavLink exact to=\"/product_list\"><div className='nav-link'>{translate('list')}</div></NavLink>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                  <NavLink exact to=\"/contact\"><div className=\"nav-link\">{translate('contact')}</div></NavLink>\r\n                </li>\r\n                {/* <li className=\"nav-item\">\r\n                <Link to=\"/animation/\"><div className=\"nav-link\">{translate('animation')}</div></Link>\r\n              </li>  */}\r\n                <li className=\"nav-item\">\r\n                  <NavLink exact to=\"/map/\"><div className=\"nav-link\">{translate('map')}</div></NavLink>\r\n                </li>\r\n                {this.state.user !== 'False' ?\r\n                  <React.Fragment>\r\n                    <li className=\"nav-item\">\r\n                      <NavLink exact to={this.url()}><div className=\"nav-link\">{translate('c_a')}</div></NavLink>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                      <NavLink exact to={this.url2}><div className=\"nav-link\">{translate('y_a')}</div></NavLink>\r\n                    </li>\r\n                  </React.Fragment>\r\n                  : ''}\r\n                {this.state.user !== 'False' ? <React.Fragment>\r\n                  <li className=\"nav-item\">\r\n                    <NavLink exact to='/cart/' ><div className=\"nav-link\">{translate('cart')} <div className=\"badge badge-info\"> {this.props.state.cart} </div></div></NavLink>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <NavLink exact to='/wishlist/'><div className=\"nav-link\">{translate('wishlist')}<div className=\"badge badge-info\">{this.props.state.wishlist}</div> </div></NavLink>\r\n                  </li></React.Fragment>\r\n                  : ''}\r\n              </ul>\r\n              <div className=\"form-inline my-2 my-lg-0\">\r\n                <br />\r\n                <div>{this.authenticated()}</div>\r\n\r\n              </div>\r\n              <div className=\"form-inline my-2 my-lg-0\">\r\n\r\n                <div class=\"dropdown show\">\r\n                  <a style={{ textDecoration: 'none', color: 'black' }} class=\"dropdown-toggle mr-5 pr-5\" href=\"#\" role=\"button\" id=\"dropdownMenuLink\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                    {lang}\r\n                  </a>\r\n\r\n                  <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\r\n                    <div style={{ cursor: 'pointer' }} onClick={() => this.props.lang2(\"en\")} class=\"dropdown-item\">{translate('en')}</div>\r\n                    <div style={{ cursor: 'pointer' }} onClick={() => this.props.lang2(\"ru\")} class=\"dropdown-item\">{translate('ru')}</div>\r\n                    <div style={{ cursor: 'pointer' }} onClick={() => this.props.lang2(\"uz\")} class=\"dropdown-item\">{translate('uz')}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </nav>\r\n        </div>\r\n      </I18nProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Navbar;"]},"metadata":{},"sourceType":"module"}