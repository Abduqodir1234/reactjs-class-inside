{"ast":null,"code":"var _jsxFileName = \"C:\\\\For Personal Use\\\\Django Projects\\\\github\\\\django-react\\\\a\\\\reactjs\\\\src\\\\pages\\\\register.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nimport Navbar from './compenents/Navbar';\nimport { Redirect } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Register extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: null,\n      username_errror: '',\n      email: null,\n      email_error: '',\n      password1: null,\n      password1_error: '',\n      password2: null,\n      password2_error: '',\n      success: '',\n      valid: false,\n      cart: 0,\n      wishlist: 0\n    };\n\n    this.empty = () => {\n      setTimeout(() => {\n        this.setState({\n          success: ''\n        });\n      }, 9000);\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handlefield = this.handlefield.bind(this);\n    this.data1 = this.data1.bind(this);\n    this.clearform = this.clearform.bind(this);\n  }\n\n  data1(data) {\n    let csrf = cookie.load('csrftoken');\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red'\n      },\n      children: this.state.success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 20\n    }, this);\n  }\n\n  componentDidMount() {\n    axios.get('/sdlkewrws/').then(response => {\n      this.setState({\n        cart: response.data.cart,\n        wishlist: response.data.wishlist\n      });\n    });\n  }\n\n  clearform() {\n    this.PostCreateForm.reset();\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    let comp = this;\n    var formData = new FormData();\n    formData.append('username', this.state.username);\n    formData.append('email', this.state.email);\n    formData.append('password1', this.state.password1);\n    formData.append('password2', this.state.password2);\n    let csrf = cookie.load('csrftoken');\n    axios({\n      method: 'POST',\n      url: '/register/',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrf\n      },\n      data: formData,\n      credentials: 'include'\n    }).then(response => {\n      if (response.data === 'True') {\n        comp.setState({\n          valid: true,\n          success: 'New Account is created succesfully'\n        });\n      } else if (response.data.username) {\n        console.log('Username');\n        comp.setState({\n          username_errror: response.data.username\n        });\n      } else if (response.data.email) {\n        comp.setState({\n          email_error: response.data.email\n        });\n      } else if (response.data.password1) {\n        comp.setState({\n          password1_error: response.data.password1\n        });\n      } else if (response.data.password2) {\n        comp.setState({\n          password2_error: response.data.password2\n        });\n      }\n    });\n    this.clearform();\n    setTimeout(() => {\n      comp.setState({\n        username_errror: '',\n        email_error: '',\n        password1_error: '',\n        password2_error: ''\n      });\n    }, 5000);\n  }\n\n  handlefield(event) {\n    event.preventDefault();\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  count() {\n    axios.get('/sdlkewrws/').then(response => {\n      this.setState({\n        cart: response.data.cart,\n        wishlist: response.data.wishlist\n      });\n    });\n  }\n\n  render() {\n    let csrf = cookie.load('csrftoken');\n    console.log(this.state.success, \"Salom\");\n\n    if (csrf !== null && csrf !== undefined) {\n      if (this.state.valid) {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 24\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Navbar, {\n            state: this.state\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 24\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.handleSubmit,\n            ref: el => this.PostCreateForm = el,\n            className: \"container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \" Register Page\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 22\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \" Foydalanuvchi nomi:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 26\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              type: \"text\",\n              name: \"username\",\n              id: \"\",\n              placeholder: \"Sizning Foydalanuvchi nomingiz\",\n              onChange: this.handlefield,\n              required: \"required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 31\n            }, this), this.state.username_errror !== '' ? /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"alert alert-danger\",\n              style: {\n                color: 'red',\n                width: '100%'\n              },\n              children: this.state.username_errror\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 64\n            }, this) : '', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 26\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              children: \"Sizning Elektrion pochtangiz\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 26\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              name: \"email\",\n              className: \"form-control\",\n              placeholder: \"Siznging elektron pochtangiz\",\n              onChange: this.handlefield,\n              required: \"required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 29\n            }, this), this.state.email_error !== '' ? /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"alert alert-danger\",\n              style: {\n                color: 'red',\n                width: '100%'\n              },\n              children: this.state.email_error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 61\n            }, this) : '', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 171\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Parol:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 26\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              type: \"password\",\n              name: \"password1\",\n              placeholder: \"Password\",\n              onChange: this.handlefield,\n              required: \"required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 31\n            }, this), this.state.password1_error !== '' ? /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"alert alert-danger\",\n              style: {\n                color: 'red',\n                width: '100%'\n              },\n              children: this.state.password1_error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 68\n            }, this) : '', /*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Tasdiqlash Parol:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 26\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\",\n              type: \"password\",\n              name: \"password2\",\n              placeholder: \"Confirmation Password\",\n              onChange: this.handlefield,\n              required: \"required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 33\n            }, this), this.state.password2_error !== '' ? /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"alert alert-danger\",\n              style: {\n                color: 'red',\n                width: '100%'\n              },\n              children: this.state.password2_error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 70\n            }, this) : '', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 184\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 26\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 31\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-info\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 26\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this);\n      }\n    } else {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/notfound\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 20\n      }, this);\n    }\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["C:/For Personal Use/Django Projects/github/django-react/a/reactjs/src/pages/register.jsx"],"names":["React","Component","axios","cookie","Navbar","Redirect","Register","constructor","props","state","username","username_errror","email","email_error","password1","password1_error","password2","password2_error","success","valid","cart","wishlist","empty","setTimeout","setState","handleSubmit","bind","handlefield","data1","clearform","data","csrf","load","color","componentDidMount","get","then","response","PostCreateForm","reset","event","preventDefault","comp","formData","FormData","append","method","url","headers","credentials","console","log","target","name","value","count","render","undefined","el","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios'\r\nimport cookie from 'react-cookies'\r\nimport Navbar from './compenents/Navbar'\r\nimport { Redirect } from 'react-router';\r\nclass Register extends Component {\r\n\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n  \r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handlefield = this.handlefield.bind(this);\r\n        this.data1 = this.data1.bind(this);\r\n        this.clearform = this.clearform.bind(this);\r\n    }\r\n    state = {\r\n        username : null,\r\n        username_errror:'',\r\n        email:null,\r\n        email_error:'',\r\n        password1:null,\r\n        password1_error:'',\r\n        password2:null,\r\n        password2_error:'',\r\n        success:'',\r\n        valid:false,\r\n        cart:0,\r\n        wishlist:0\r\n    }\r\n    data1(data){\r\n        let csrf = cookie.load('csrftoken');\r\n            return <div style={{color:'red'}}>\r\n                        {this.state.success}\r\n          </div>\r\n    }\r\n    componentDidMount(){\r\n        axios.get('/sdlkewrws/')\r\n        .then(response => {\r\n          this.setState({\r\n            cart:response.data.cart,\r\n            wishlist:response.data.wishlist\r\n          })\r\n        })\r\n    }    \r\n    empty = () =>{\r\n        setTimeout(() => {\r\n            this.setState({\r\n                success:''\r\n            })\r\n        }, 9000);\r\n    }\r\n    clearform(){\r\n        this.PostCreateForm.reset();\r\n    }\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        let comp = this;\r\n        var formData = new FormData()\r\n        formData.append('username',this.state.username);\r\n        formData.append('email',this.state.email);\r\n        formData.append('password1',this.state.password1);\r\n        formData.append('password2',this.state.password2);\r\n        let csrf = cookie.load('csrftoken');\r\n        axios({\r\n            method:'POST',\r\n            url:'/register/',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                'X-CSRFToken':csrf\r\n            },\r\n            data:formData,\r\n            credentials:'include'\r\n        })\r\n        .then(response => {\r\n                if(response.data === 'True'){\r\n                    comp.setState({\r\n                        valid:true,\r\n                        success:'New Account is created succesfully'\r\n                    })\r\n                }\r\n                else if(response.data.username){\r\n                    console.log('Username')\r\n                    comp.setState({\r\n                        username_errror:response.data.username\r\n                    })\r\n                }\r\n                else if(response.data.email){\r\n                    comp.setState({\r\n                        email_error:response.data.email\r\n                    })\r\n                }\r\n                else if(response.data.password1){\r\n                    comp.setState({\r\n                        password1_error:response.data.password1\r\n                    })\r\n                }\r\n                else if(response.data.password2){\r\n                    comp.setState({\r\n                        password2_error:response.data.password2\r\n                    })\r\n                }\r\n\r\n        })\r\n        this.clearform()\r\n        setTimeout(() => {\r\n            comp.setState({\r\n                username_errror:'',\r\n                email_error:'',\r\n                password1_error:'',\r\n                password2_error:''\r\n            })\r\n        }, 5000);\r\n    }\r\n    handlefield(event)\r\n    {\r\n        event.preventDefault();\r\n        this.setState({\r\n            [event.target.name]:event.target.value,\r\n        })\r\n        \r\n    }\r\n    count(){\r\n        axios.get('/sdlkewrws/')\r\n        .then(response => {\r\n        this.setState({\r\n            cart:response.data.cart,\r\n            wishlist:response.data.wishlist\r\n        })\r\n        })\r\n    }\r\n    render() {\r\n        let csrf = cookie.load('csrftoken');\r\n        console.log(this.state.success,\"Salom\")\r\n        if(csrf !== null && csrf !== undefined){\r\n               if(this.state.valid)\r\n               {\r\n                return <Redirect to='/login'/>\r\n               }\r\n               else{\r\n                return ( \r\n            \r\n                    <div>\r\n                       <Navbar state={this.state} />\r\n                     <form onSubmit={this.handleSubmit} ref = {(el) => this.PostCreateForm = el} className=\"container\">\r\n                     <h2> Register Page</h2><br/>\r\n                  \r\n                         <label> Foydalanuvchi nomi:</label>\r\n                              <input className='form-control' type=\"text\" name=\"username\" id=\"\" placeholder='Sizning Foydalanuvchi nomingiz' onChange={this.handlefield} required = 'required' />\r\n                    \r\n                        {this.state.username_errror !== '' ?   <label className='alert alert-danger' style={{color:'red',width:'100%'}}>{this.state.username_errror}</label> : ''}\r\n                         <br/>\r\n                         <label htmlFor=\"email\">Sizning Elektrion pochtangiz</label>\r\n                            <input type=\"email\" name=\"email\" className='form-control' placeholder='Siznging elektron pochtangiz' onChange={this.handlefield} required='required' />\r\n                          {this.state.email_error !== '' ?  <label className='alert alert-danger' style={{color:'red',width:'100%'}}>{this.state.email_error}</label> :''}<br/>\r\n                         <label>Parol:</label>\r\n                              <input className='form-control' type=\"password\" name=\"password1\" placeholder='Password' onChange={this.handlefield} required = 'required' />\r\n                              {this.state.password1_error !== '' ? <label className='alert alert-danger' style={{color:'red',width:'100%'}}>{this.state.password1_error}</label> :''}\r\n                         <label>Tasdiqlash Parol:</label>\r\n                                <input className='form-control' type=\"password\" name=\"password2\" placeholder='Confirmation Password' onChange={this.handlefield} required = 'required' />\r\n                                {this.state.password2_error !== '' ? <label className='alert alert-danger' style={{color:'red',width:'100%'}}>{this.state.password2_error}</label> :''}<br/>\r\n                         <br/>\r\n                              <br/>\r\n                         <button type='submit' className='btn btn-info'>Submit</button>\r\n                         \r\n                     </form>\r\n                 </div> \r\n                  );\r\n               }\r\n             \r\n        }\r\n        else{\r\n            return <Redirect to='/notfound'/>\r\n        }\r\n\r\n    }\r\n}\r\n \r\nexport default Register ;"]},"metadata":{},"sourceType":"module"}