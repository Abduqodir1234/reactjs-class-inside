{"ast":null,"code":"import _defineProperty from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import axios from'axios';import React,{Component}from'react';import cookie from'react-cookies';import{Redirect}from'react-router';import Navbar from'./Navbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateProduct=/*#__PURE__*/function(_Component){_inherits(CreateProduct,_Component);var _super=_createSuper(CreateProduct);function CreateProduct(props){var _this;_classCallCheck(this,CreateProduct);_this=_super.call(this,props);_this.state={name:null,color:null,desc:null,price:null,sale:false,price_in_sale:2,quantity:null,img:undefined,size:null,category:'Men & Women  Clothes',brand:null,csrfmiddlewaretoken:cookie.load('csrftoken'),success:'',user:'',cart:0,wishlist:0};_this.handleForm=_this.handleForm.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleFileForm=_this.handleFileForm.bind(_assertThisInitialized(_this));_this.price=_this.price.bind(_assertThisInitialized(_this));_this.clear=_this.clear.bind(_assertThisInitialized(_this));return _this;}_createClass(CreateProduct,[{key:\"handleForm\",value:function handleForm(event){var comp=this;console.log(event.target.name,event.target.value);if(event.target.name==='sale'){if(event.target.checked===true){comp.setState({sale:true});console.log(\"Sale:False\");}else{comp.setState({sale:false});console.log(\"Sale:True\");}}else{this.setState(_defineProperty({},event.target.name,event.target.value));console.log('not checkbox');}}},{key:\"price\",value:function price(){if(this.state.sale){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",children:\"Price In Sale\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price_in_sale\",className:\"form-control\",onChange:this.handleForm})]});}}},{key:\"handleSubmit\",value:function handleSubmit(event){var _this2=this;var csrf=cookie.load('csrftoken');var formData=new FormData();formData.append('img',this.state.img);formData.append('name',this.state.name);formData.append('color',this.state.color);formData.append('desc',this.state.desc);formData.append('price',this.state.price);formData.append('price_in_sale',this.state.price_in_sale);formData.append('sale',this.state.sale);formData.append('quantity',this.state.quantity);formData.append('img',this.state.img);formData.append('size',this.state.size);formData.append('sale',this.state.sale);formData.append('category',this.state.category);formData.append('brand',this.state.brand);formData.append('user','');event.preventDefault();console.log(this.state);axios({method:'POST',url:'http://127.0.0.1:8000/api1/',headers:{\"Content-Type\":\"multipart/form-data\",'X-CSRFToken':csrf},data:formData,credentials:'include'}).then(function(response){console.log(response);// this.setState({\n//     success:\"New announcement created successfully\"\n// })\n}).catch(function(errors){_this2.setState({success:\"Something went wrong\"});});this.clear();setTimeout(function(){_this2.setState({success:''});},5000);}},{key:\"clear\",value:function clear(){this.ppp.reset();}},{key:\"handleFileForm\",value:function handleFileForm(event){var _this3=this;event.preventDefault();var files=event.target.files;this.setState({img:files[0]},function(){return console.log(_this3.state);});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this4=this;axios.get('http://127.0.0.1:8000/sdlkewrws/').then(function(response){_this4.setState({cart:response.data.cart,wishlist:response.data.wishlist});});}},{key:\"render\",value:function render(){var _this5=this;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{state:this.state}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,className:\"container\",ref:function ref(el){return _this5.ppp=el;},encType:\"multipart/form-data\",children:[this.state.success!==''?/*#__PURE__*/_jsxs(\"center\",{children:[\"  \",/*#__PURE__*/_jsxs(\"div\",{class:\"alert alert-info alert-dismissible fade show fixed-top\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"close\",\"data-dismiss\":\"alert\",children:\"\\xD7\"}),this.state.success]})]}):'',/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Product Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",className:\"form-control\",onChange:this.handleForm,required:\"required\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"quantity\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"quantity\",className:\"form-control\",name:\"quantity\",required:\"required\",onChange:this.handleForm}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",required:\"required\",id:\"price\",name:\"price\",className:\"form-control\",onChange:this.handleForm}),/*#__PURE__*/_jsxs(\"div\",{className:\"custom-control custom-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"custom-control-input\",id:\"customCheck\",name:\"sale\",checked:this.state.sale,onChange:this.handleForm}),/*#__PURE__*/_jsx(\"label\",{className:\"custom-control-label\",htmlFor:\"customCheck\",children:\" Sale\"})]}),this.price(),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"img\",children:\"Main Image of Product \"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"img\",required:\"required\",accept:\".jpg,.png,.svg\",onChange:this.handleFileForm}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"size\",children:\"Available sizes\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"size\",required:\"required\",className:\"form-control\",onChange:this.handleForm}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"color\",children:\"Color of Product\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"color\",required:\"required\",className:\"form-control\",onChange:this.handleForm}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"desc\",children:\"Full Description\"}),/*#__PURE__*/_jsx(\"textarea\",{cols:\"30\",rows:\"10\",required:\"required\",name:\"desc\",className:\"form-control\",onChange:this.handleForm}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",class:\"custom-select mb-3\",required:\"required\",onChange:this.handleForm,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Fashion & Beauty\",children:\"Fashion & Beauty\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Kids & Babies Clothes\",children:\"Kids & Babies Clothes\"}),/*#__PURE__*/_jsx(\"option\",{selected:true,value:\"Men & Women  Clothes\",children:\"Men & Women  Clothes\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Gadgets & Accessories\",children:\"Gadgets & Accessories\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Electronics & Accessories\",children:\"Electronics & Accessories\"})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"brand\",children:\"Brand\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"brand\",required:\"required\",className:\"form-control\",onChange:this.handleForm}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-info\"})]})})]});}}]);return CreateProduct;}(Component);export default CreateProduct;","map":{"version":3,"sources":["C:/For Personal Use/Django Projects/github/django-react/a/reactjs/src/pages/compenents/createproduct.jsx"],"names":["axios","React","Component","cookie","Redirect","Navbar","CreateProduct","props","state","name","color","desc","price","sale","price_in_sale","quantity","img","undefined","size","category","brand","csrfmiddlewaretoken","load","success","user","cart","wishlist","handleForm","bind","handleSubmit","handleFileForm","clear","event","comp","console","log","target","value","checked","setState","csrf","formData","FormData","append","preventDefault","method","url","headers","data","credentials","then","response","catch","errors","setTimeout","ppp","reset","files","get","el"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, { Component } from 'react';\r\nimport cookie from 'react-cookies'\r\nimport { Redirect } from 'react-router';\r\nimport Navbar from './Navbar';\r\n\r\nclass CreateProduct extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            name:null,\r\n            color:null,\r\n            desc:null,\r\n            price:null,\r\n            sale:false,\r\n            price_in_sale:2,\r\n            quantity:null,\r\n            img:undefined,\r\n            size:null,\r\n            category:'Men & Women  Clothes',\r\n            brand:null,\r\n            csrfmiddlewaretoken:cookie.load('csrftoken'),\r\n            success:'',\r\n            user:'',\r\n            cart:0,\r\n            wishlist:0\r\n        }\r\n        this.handleForm = this.handleForm.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleFileForm = this.handleFileForm.bind(this);\r\n        this.price = this.price.bind(this)\r\n        this.clear = this.clear.bind(this)\r\n    }\r\n    handleForm(event) {\r\n        let comp = this;\r\n        console.log(event.target.name,event.target.value)\r\n        if(event.target.name === 'sale'){\r\n            if(event.target.checked === true)\r\n            {\r\n                comp.setState({\r\n                    sale:true\r\n                })\r\n                console.log(\"Sale:False\")\r\n            }\r\n            else{\r\n                comp.setState({\r\n                    sale:false\r\n                   })\r\n                console.log(\"Sale:True\")\r\n            }\r\n        }\r\n        else{\r\n            this.setState({\r\n                [event.target.name]:event.target.value,\r\n            })\r\n            console.log('not checkbox')\r\n        }\r\n\r\n\r\n    }\r\n    price(){\r\n        if(this.state.sale)\r\n        {\r\n            return ( <div>\r\n                 <label htmlFor=\"price\">Price In Sale</label>\r\n                <input type=\"number\" name=\"price_in_sale\" className='form-control' onChange={this.handleForm} />\r\n            </div> )\r\n        }\r\n    }\r\n\r\n    handleSubmit(event){\r\n        let csrf = cookie.load('csrftoken');\r\n        var formData = new FormData();\r\n        formData.append('img', this.state.img)\r\n        formData.append('name', this.state.name)\r\n        formData.append('color', this.state.color)\r\n        formData.append('desc', this.state.desc)\r\n        formData.append('price', this.state.price)\r\n        formData.append('price_in_sale', this.state.price_in_sale)\r\n        formData.append('sale', this.state.sale)\r\n        formData.append('quantity', this.state.quantity)\r\n        formData.append('img', this.state.img)\r\n        formData.append('size', this.state.size)\r\n        formData.append('sale', this.state.sale)\r\n        formData.append('category', this.state.category)\r\n        formData.append('brand', this.state.brand)\r\n        formData.append('user','')\r\n        event.preventDefault();\r\n        console.log(this.state)\r\n        axios({\r\n            method:'POST',\r\n            url:'http://127.0.0.1:8000/api1/',\r\n            headers:{\r\n                \"Content-Type\": \"multipart/form-data\",\r\n                'X-CSRFToken':csrf\r\n            },\r\n            data:formData,\r\n            credentials:'include'\r\n        })\r\n        .then(response =>{\r\n            console.log(response)\r\n            // this.setState({\r\n            //     success:\"New announcement created successfully\"\r\n            // })\r\n        })\r\n        .catch(errors =>{\r\n                \r\n                this.setState({\r\n                    success:\"Something went wrong\"\r\n                })\r\n            })\r\n        this.clear()\r\n        setTimeout(() => {\r\n            this.setState({\r\n                success:''\r\n            })\r\n        }, 5000 );\r\n    }\r\n    clear()\r\n    {\r\n        this.ppp.reset();\r\n    }\r\n    handleFileForm(event) \r\n    {\r\n        event.preventDefault();\r\n        let files = event.target.files;\r\n        this.setState({\r\n            img: files[0]\r\n        }, () => console.log(this.state));\r\n    }\r\n    componentDidMount(){\r\n        axios.get('http://127.0.0.1:8000/sdlkewrws/')\r\n        .then(response => {\r\n            this.setState({\r\n            cart:response.data.cart,\r\n            wishlist:response.data.wishlist\r\n            })\r\n        })\r\n    }\r\n    render() { \r\n        return ( \r\n           <div>\r\n               <Navbar state={this.state} /><br/> <br/>\r\n                <div className='container'>\r\n               <form  onSubmit={this.handleSubmit} className='container' ref={(el) => this.ppp = el} encType=\"multipart/form-data\">\r\n             {this.state.success !== '' ?   <center>  <div class=\"alert alert-info alert-dismissible fade show fixed-top\">\r\n    <button type=\"button\" class=\"close\" data-dismiss=\"alert\">&times;</button>{this.state.success}</div></center> : ''}\r\n                    <label htmlFor='name'>Product Name</label>\r\n                    <input type=\"text\"  id='name'  name=\"name\" className='form-control' onChange={this.handleForm} required='required' />\r\n                    <label htmlFor=\"quantity\">Quantity</label>\r\n                    <input type=\"number\" id='quantity' className='form-control' name=\"quantity\" required='required' onChange={this.handleForm}/>\r\n                    <label htmlFor=\"price\">Price</label>\r\n                    <input type=\"number\"  required='required' id='price' name=\"price\" className='form-control' onChange={this.handleForm} />\r\n                    <div className=\"custom-control custom-checkbox\">\r\n                        <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck\" name=\"sale\" checked={this.state.sale} onChange={this.handleForm} />\r\n                        <label className=\"custom-control-label\" htmlFor=\"customCheck\"> Sale</label>\r\n                    </div>\r\n                    {this.price()}\r\n                    <label htmlFor=\"img\">Main Image of Product </label>\r\n                    <input type=\"file\" name='img'  required='required' accept='.jpg,.png,.svg'  onChange={this.handleFileForm}/><br/>\r\n                    <label htmlFor=\"size\">Available sizes</label>\r\n                    <input type=\"text\"  name=\"size\"  required='required' className='form-control' onChange={this.handleForm} />\r\n                    <label htmlFor=\"color\">Color of Product</label>\r\n                    <input type=\"text\"  name=\"color\"  required='required' className='form-control' onChange={this.handleForm} />\r\n                    <label htmlFor=\"desc\">Full Description</label>\r\n                    <textarea  cols=\"30\" rows=\"10\"  required='required' name=\"desc\" className='form-control' onChange={this.handleForm}></textarea>\r\n                    <label htmlFor=\"category\">Category</label>\r\n                    <select name=\"category\" class=\"custom-select mb-3\"  required='required' onChange={this.handleForm}>\r\n   \r\n                        <option  value=\"Fashion & Beauty\">Fashion & Beauty</option>\r\n                        <option value=\"Kids & Babies Clothes\">Kids & Babies Clothes</option>\r\n                        <option selected  value=\"Men & Women  Clothes\">Men & Women  Clothes</option>\r\n                        <option value=\"Gadgets & Accessories\">Gadgets & Accessories</option>\r\n                        <option value=\"Electronics & Accessories\">Electronics & Accessories</option>\r\n                    </select>\r\n                    <label htmlFor=\"brand\">Brand</label>\r\n                    <input type=\"text\" name=\"brand\"  required='required' className='form-control' onChange={this.handleForm}  />\r\n                   <br/><br/> <input type=\"submit\" className=\"btn btn-info\" />\r\n\r\n                </form>\r\n            </div>\r\n           </div>\r\n         );\r\n    }\r\n}\r\n \r\nexport default CreateProduct;"]},"metadata":{},"sourceType":"module"}