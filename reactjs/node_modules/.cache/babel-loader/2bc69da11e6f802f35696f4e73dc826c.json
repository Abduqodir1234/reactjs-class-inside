{"ast":null,"code":"import _defineProperty from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import axios from'axios';import React,{Component}from'react';import cookie from'react-cookies';import{FormattedMessage}from'react-intl';import{Redirect}from'react-router';import{I18nProvider,LOCALES}from'../i18n';import translate from'../i18n/tranlate';import Navbar from'./Navbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateProduct=/*#__PURE__*/function(_Component){_inherits(CreateProduct,_Component);var _super=_createSuper(CreateProduct);function CreateProduct(props){var _this;_classCallCheck(this,CreateProduct);_this=_super.call(this,props);_this.state={name:null,color:null,desc:null,price:null,sale:false,price_in_sale:2,quantity:null,img:undefined,size:null,category:'Men & Women  Clothes',brand:null,csrfmiddlewaretoken:cookie.load('csrftoken'),success:'',user:'',cart:0,wishlist:0};_this.handleForm=_this.handleForm.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleFileForm=_this.handleFileForm.bind(_assertThisInitialized(_this));_this.price=_this.price.bind(_assertThisInitialized(_this));_this.clear=_this.clear.bind(_assertThisInitialized(_this));_this.lang2=_this.lang2.bind(_assertThisInitialized(_this));return _this;}_createClass(CreateProduct,[{key:\"handleForm\",value:function handleForm(event){var comp=this;console.log(event.target.name,event.target.value);if(event.target.name==='sale'){if(event.target.checked===true){comp.setState({sale:true});console.log(\"Sale:False\");}else{comp.setState({sale:false});console.log(\"Sale:True\");}}else{this.setState(_defineProperty({},event.target.name,event.target.value));console.log('not checkbox');}}},{key:\"price\",value:function price(){if(this.state.sale){return/*#__PURE__*/_jsxs(I18nProvider,{locale:this.lang1(),children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",children:translate('p_i_s')}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price_in_sale\",className:\"form-control\",onChange:this.handleForm})]});}}},{key:\"handleSubmit\",value:function handleSubmit(event){var _this2=this;var csrf=cookie.load('csrftoken');var formData=new FormData();formData.append('img',this.state.img);formData.append('name',this.state.name);formData.append('color',this.state.color);formData.append('desc',this.state.desc);formData.append('price',this.state.price);formData.append('price_in_sale',this.state.price_in_sale);formData.append('sale',this.state.sale);formData.append('quantity',this.state.quantity);formData.append('img',this.state.img);formData.append('size',this.state.size);formData.append('sale',this.state.sale);formData.append('category',this.state.category);formData.append('brand',this.state.brand);formData.append('user','');event.preventDefault();console.log(this.state);axios({method:'POST',url:'http://127.0.0.1:8000/api1/',headers:{\"Content-Type\":\"multipart/form-data\",'X-CSRFToken':csrf},data:formData,credentials:'include'}).then(function(response){console.log(response);// this.setState({\n//     success:\"New announcement created successfully\"\n// })\n}).catch(function(errors){_this2.setState({success:\"Something went wrong\"});});this.clear();setTimeout(function(){_this2.setState({success:''});},5000);}},{key:\"clear\",value:function clear(){this.ppp.reset();}},{key:\"handleFileForm\",value:function handleFileForm(event){var _this3=this;event.preventDefault();var files=event.target.files;this.setState({img:files[0]},function(){return console.log(_this3.state);});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this4=this;axios.get('http://127.0.0.1:8000/sdlkewrws/').then(function(response){_this4.setState({cart:response.data.cart,wishlist:response.data.wishlist});});}},{key:\"lang1\",value:function lang1(){if(localStorage.getItem('lang')==='en'){return LOCALES.English;}else if(localStorage.getItem('lang')==='ru'){return LOCALES.Russian;}else if(localStorage.getItem('lang')==='uz'){return LOCALES.Uzbek;}else{console.log(\"Error\");}}},{key:\"lang2\",value:function lang2(ev){localStorage.setItem('lang',ev);this.setState({lang:ev});}},{key:\"render\",value:function render(){var _this5=this;if(this.props.state.user===\"False\"){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}else{return/*#__PURE__*/_jsx(I18nProvider,{locale:this.lang1(),children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,className:\"container\",ref:function ref(el){return _this5.ppp=el;},encType:\"multipart/form-data\",children:[this.state.success!==''?/*#__PURE__*/_jsxs(\"center\",{children:[\"  \",/*#__PURE__*/_jsxs(\"div\",{class:\"alert alert-info alert-dismissible fade show fixed-top\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"close\",\"data-dismiss\":\"alert\",children:\"\\xD7\"}),this.state.success]})]}):'',/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:translate('p_name')}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",name:\"name\",className:\"form-control\",onChange:this.handleForm,required:\"required\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"quantity\",children:translate('quantity')}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"quantity\",className:\"form-control\",name:\"quantity\",required:\"required\",onChange:this.handleForm}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",children:translate('price')}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",required:\"required\",id:\"price\",name:\"price\",className:\"form-control\",onChange:this.handleForm}),/*#__PURE__*/_jsxs(\"div\",{className:\"custom-control custom-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"custom-control-input\",id:\"customCheck\",name:\"sale\",checked:this.state.sale,onChange:this.handleForm}),/*#__PURE__*/_jsxs(\"label\",{className:\"custom-control-label\",htmlFor:\"customCheck\",children:[\" \",translate('sale')]})]}),this.price(),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"img\",children:[translate('main_image'),\" \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"img\",required:\"required\",accept:\".jpg,.png,.svg\",onChange:this.handleFileForm}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"size\",children:translate('size')}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"size\",required:\"required\",className:\"form-control\",onChange:this.handleForm}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"color\",children:translate('a_color')}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"color\",required:\"required\",className:\"form-control\",onChange:this.handleForm}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"desc\",children:translate('desc')}),/*#__PURE__*/_jsx(\"textarea\",{cols:\"30\",rows:\"10\",required:\"required\",name:\"desc\",className:\"form-control\",onChange:this.handleForm}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",children:translate('category')}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",class:\"custom-select mb-3\",required:\"required\",onChange:this.handleForm,children:[/*#__PURE__*/_jsx(FormattedMessage,{id:\"c_1\",defaultMessage:\"Fashion & Beauty\",children:function children(value1){return/*#__PURE__*/_jsx(\"option\",{value:\"Fashion & Beauty\",children:value1});}}),/*#__PURE__*/_jsx(FormattedMessage,{id:\"c_2\",defaultMessage:\"Kids & Babies Clothes\",children:function children(value2){return/*#__PURE__*/_jsx(\"option\",{value:\"Kids & Babies Clothes\",children:value2});}}),/*#__PURE__*/_jsx(FormattedMessage,{id:\"c_3\",defaultMessage:\"Men & Women  Clothes\",children:function children(value3){return/*#__PURE__*/_jsx(\"option\",{value:\"Men & Women  Clothes\",children:value3});}}),/*#__PURE__*/_jsx(FormattedMessage,{id:\"c_4\",defaultMessage:\"Gadgets & Accessories\",children:function children(value4){return/*#__PURE__*/_jsx(\"option\",{value:\"Gadgets & Accessories\",children:value4});}}),/*#__PURE__*/_jsx(FormattedMessage,{id:\"c_5\",defaultMessage:\"Electronics & Accessories\",children:function children(value5){return/*#__PURE__*/_jsx(\"option\",{value:\"Electronics & Accessories\",children:value5});}})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"brand\",children:translate('brand')}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"brand\",required:\"required\",className:\"form-control\",onChange:this.handleForm}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-info\"})]})})});}}}]);return CreateProduct;}(Component);export default CreateProduct;","map":{"version":3,"sources":["C:/For Personal Use/Django Projects/github/django-react/a/reactjs/src/pages/compenents/createproduct.jsx"],"names":["axios","React","Component","cookie","FormattedMessage","Redirect","I18nProvider","LOCALES","translate","Navbar","CreateProduct","props","state","name","color","desc","price","sale","price_in_sale","quantity","img","undefined","size","category","brand","csrfmiddlewaretoken","load","success","user","cart","wishlist","handleForm","bind","handleSubmit","handleFileForm","clear","lang2","event","comp","console","log","target","value","checked","setState","lang1","csrf","formData","FormData","append","preventDefault","method","url","headers","data","credentials","then","response","catch","errors","setTimeout","ppp","reset","files","get","localStorage","getItem","English","Russian","Uzbek","ev","setItem","lang","el","value1","value2","value3","value4","value5"],"mappings":"klCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,eAAnB,CACA,OAASC,gBAAT,KAAiC,YAAjC,CACA,OAASC,QAAT,KAAyB,cAAzB,CACA,OAASC,YAAT,CAAuBC,OAAvB,KAAsC,SAAtC,CACA,MAAOC,CAAAA,SAAP,KAAsB,kBAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,2FAEMC,CAAAA,a,8GACF,uBAAYC,KAAZ,CAAmB,+CACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,IAAI,CAAE,IADG,CAETC,KAAK,CAAE,IAFE,CAGTC,IAAI,CAAE,IAHG,CAITC,KAAK,CAAE,IAJE,CAKTC,IAAI,CAAE,KALG,CAMTC,aAAa,CAAE,CANN,CAOTC,QAAQ,CAAE,IAPD,CAQTC,GAAG,CAAEC,SARI,CASTC,IAAI,CAAE,IATG,CAUTC,QAAQ,CAAE,sBAVD,CAWTC,KAAK,CAAE,IAXE,CAYTC,mBAAmB,CAAEtB,MAAM,CAACuB,IAAP,CAAY,WAAZ,CAZZ,CAaTC,OAAO,CAAE,EAbA,CAcTC,IAAI,CAAE,EAdG,CAeTC,IAAI,CAAE,CAfG,CAgBTC,QAAQ,CAAE,CAhBD,CAAb,CAkBA,MAAKC,UAAL,CAAkB,MAAKA,UAAL,CAAgBC,IAAhB,+BAAlB,CACA,MAAKC,YAAL,CAAoB,MAAKA,YAAL,CAAkBD,IAAlB,+BAApB,CACA,MAAKE,cAAL,CAAsB,MAAKA,cAAL,CAAoBF,IAApB,+BAAtB,CACA,MAAKhB,KAAL,CAAa,MAAKA,KAAL,CAAWgB,IAAX,+BAAb,CACA,MAAKG,KAAL,CAAa,MAAKA,KAAL,CAAWH,IAAX,+BAAb,CACA,MAAKI,KAAL,CAAa,MAAKA,KAAL,CAAWJ,IAAX,+BAAb,CAzBe,aA0BlB,C,oDACD,oBAAWK,KAAX,CAAkB,CACd,GAAIC,CAAAA,IAAI,CAAG,IAAX,CACAC,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACI,MAAN,CAAa5B,IAAzB,CAA+BwB,KAAK,CAACI,MAAN,CAAaC,KAA5C,EACA,GAAIL,KAAK,CAACI,MAAN,CAAa5B,IAAb,GAAsB,MAA1B,CAAkC,CAC9B,GAAIwB,KAAK,CAACI,MAAN,CAAaE,OAAb,GAAyB,IAA7B,CAAmC,CAC/BL,IAAI,CAACM,QAAL,CAAc,CACV3B,IAAI,CAAE,IADI,CAAd,EAGAsB,OAAO,CAACC,GAAR,CAAY,YAAZ,EACH,CALD,IAMK,CACDF,IAAI,CAACM,QAAL,CAAc,CACV3B,IAAI,CAAE,KADI,CAAd,EAGAsB,OAAO,CAACC,GAAR,CAAY,WAAZ,EACH,CACJ,CAbD,IAcK,CACD,KAAKI,QAAL,oBACKP,KAAK,CAACI,MAAN,CAAa5B,IADlB,CACyBwB,KAAK,CAACI,MAAN,CAAaC,KADtC,GAGAH,OAAO,CAACC,GAAR,CAAY,cAAZ,EACH,CAGJ,C,qBACD,gBAAQ,CACJ,GAAI,KAAK5B,KAAL,CAAWK,IAAf,CAAqB,CACjB,mBAAQ,MAAC,YAAD,EAAc,MAAM,CAAE,KAAK4B,KAAL,EAAtB,wBACJ,cAAO,OAAO,CAAC,OAAf,UAAwBrC,SAAS,CAAC,OAAD,CAAjC,EADI,cAEJ,cAAO,IAAI,CAAC,QAAZ,CAAqB,IAAI,CAAC,eAA1B,CAA0C,SAAS,CAAC,cAApD,CAAmE,QAAQ,CAAE,KAAKuB,UAAlF,EAFI,GAAR,CAIH,CACJ,C,4BAED,sBAAaM,KAAb,CAAoB,iBAChB,GAAIS,CAAAA,IAAI,CAAG3C,MAAM,CAACuB,IAAP,CAAY,WAAZ,CAAX,CACA,GAAIqB,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,QAAJ,EAAf,CACAD,QAAQ,CAACE,MAAT,CAAgB,KAAhB,CAAuB,KAAKrC,KAAL,CAAWQ,GAAlC,EACA2B,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwB,KAAKrC,KAAL,CAAWC,IAAnC,EACAkC,QAAQ,CAACE,MAAT,CAAgB,OAAhB,CAAyB,KAAKrC,KAAL,CAAWE,KAApC,EACAiC,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwB,KAAKrC,KAAL,CAAWG,IAAnC,EACAgC,QAAQ,CAACE,MAAT,CAAgB,OAAhB,CAAyB,KAAKrC,KAAL,CAAWI,KAApC,EACA+B,QAAQ,CAACE,MAAT,CAAgB,eAAhB,CAAiC,KAAKrC,KAAL,CAAWM,aAA5C,EACA6B,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwB,KAAKrC,KAAL,CAAWK,IAAnC,EACA8B,QAAQ,CAACE,MAAT,CAAgB,UAAhB,CAA4B,KAAKrC,KAAL,CAAWO,QAAvC,EACA4B,QAAQ,CAACE,MAAT,CAAgB,KAAhB,CAAuB,KAAKrC,KAAL,CAAWQ,GAAlC,EACA2B,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwB,KAAKrC,KAAL,CAAWU,IAAnC,EACAyB,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwB,KAAKrC,KAAL,CAAWK,IAAnC,EACA8B,QAAQ,CAACE,MAAT,CAAgB,UAAhB,CAA4B,KAAKrC,KAAL,CAAWW,QAAvC,EACAwB,QAAQ,CAACE,MAAT,CAAgB,OAAhB,CAAyB,KAAKrC,KAAL,CAAWY,KAApC,EACAuB,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAwB,EAAxB,EACAZ,KAAK,CAACa,cAAN,GACAX,OAAO,CAACC,GAAR,CAAY,KAAK5B,KAAjB,EACAZ,KAAK,CAAC,CACFmD,MAAM,CAAE,MADN,CAEFC,GAAG,CAAE,6BAFH,CAGFC,OAAO,CAAE,CACL,eAAgB,qBADX,CAEL,cAAeP,IAFV,CAHP,CAOFQ,IAAI,CAAEP,QAPJ,CAQFQ,WAAW,CAAE,SARX,CAAD,CAAL,CAUKC,IAVL,CAUU,SAAAC,QAAQ,CAAI,CACdlB,OAAO,CAACC,GAAR,CAAYiB,QAAZ,EACA;AACA;AACA;AACH,CAfL,EAgBKC,KAhBL,CAgBW,SAAAC,MAAM,CAAI,CAEb,MAAI,CAACf,QAAL,CAAc,CACVjB,OAAO,CAAE,sBADC,CAAd,EAGH,CArBL,EAsBA,KAAKQ,KAAL,GACAyB,UAAU,CAAC,UAAM,CACb,MAAI,CAAChB,QAAL,CAAc,CACVjB,OAAO,CAAE,EADC,CAAd,EAGH,CAJS,CAIP,IAJO,CAAV,CAKH,C,qBACD,gBAAQ,CACJ,KAAKkC,GAAL,CAASC,KAAT,GACH,C,8BACD,wBAAezB,KAAf,CAAsB,iBAClBA,KAAK,CAACa,cAAN,GACA,GAAIa,CAAAA,KAAK,CAAG1B,KAAK,CAACI,MAAN,CAAasB,KAAzB,CACA,KAAKnB,QAAL,CAAc,CACVxB,GAAG,CAAE2C,KAAK,CAAC,CAAD,CADA,CAAd,CAEG,iBAAMxB,CAAAA,OAAO,CAACC,GAAR,CAAY,MAAI,CAAC5B,KAAjB,CAAN,EAFH,EAGH,C,iCACD,4BAAoB,iBAChBZ,KAAK,CAACgE,GAAN,CAAU,kCAAV,EACKR,IADL,CACU,SAAAC,QAAQ,CAAI,CACd,MAAI,CAACb,QAAL,CAAc,CACVf,IAAI,CAAE4B,QAAQ,CAACH,IAAT,CAAczB,IADV,CAEVC,QAAQ,CAAE2B,QAAQ,CAACH,IAAT,CAAcxB,QAFd,CAAd,EAIH,CANL,EAOH,C,qBACD,gBAAQ,CACJ,GAAImC,YAAY,CAACC,OAAb,CAAqB,MAArB,IAAiC,IAArC,CAA2C,CAEvC,MAAO3D,CAAAA,OAAO,CAAC4D,OAAf,CACH,CAHD,IAIK,IAAIF,YAAY,CAACC,OAAb,CAAqB,MAArB,IAAiC,IAArC,CAA2C,CAC5C,MAAO3D,CAAAA,OAAO,CAAC6D,OAAf,CACH,CAFI,IAGA,IAAIH,YAAY,CAACC,OAAb,CAAqB,MAArB,IAAiC,IAArC,CAA2C,CAC5C,MAAO3D,CAAAA,OAAO,CAAC8D,KAAf,CACH,CAFI,IAGA,CACD9B,OAAO,CAACC,GAAR,CAAY,OAAZ,EACH,CACJ,C,qBAED,eAAM8B,EAAN,CAAU,CACNL,YAAY,CAACM,OAAb,CAAqB,MAArB,CAA6BD,EAA7B,EACA,KAAK1B,QAAL,CAAc,CACV4B,IAAI,CAAEF,EADI,CAAd,EAIH,C,sBACD,iBAAS,iBACL,GAAI,KAAK3D,KAAL,CAAWC,KAAX,CAAiBgB,IAAjB,GAA0B,OAA9B,CAAuC,CACnC,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CACH,CAFD,IAGK,CACD,mBACI,KAAC,YAAD,EAAc,MAAM,CAAE,KAAKiB,KAAL,EAAtB,uBAEI,YAAK,SAAS,CAAC,WAAf,uBACI,cAAM,QAAQ,CAAE,KAAKZ,YAArB,CAAmC,SAAS,CAAC,WAA7C,CAAyD,GAAG,CAAE,aAACwC,EAAD,QAAQ,CAAA,MAAI,CAACZ,GAAL,CAAWY,EAAnB,EAA9D,CAAqF,OAAO,CAAC,qBAA7F,WACK,KAAK7D,KAAL,CAAWe,OAAX,GAAuB,EAAvB,cAA4B,4CAAU,aAAK,KAAK,CAAC,wDAAX,wBACnC,eAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,OAA5B,CAAoC,eAAa,OAAjD,kBADmC,CACuC,KAAKf,KAAL,CAAWe,OADlD,GAAV,GAA5B,CACkH,EAFvH,cAGI,cAAO,OAAO,CAAC,MAAf,UAAuBnB,SAAS,CAAC,QAAD,CAAhC,EAHJ,cAII,cAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,MAAtB,CAA6B,IAAI,CAAC,MAAlC,CAAyC,SAAS,CAAC,cAAnD,CAAkE,QAAQ,CAAE,KAAKuB,UAAjF,CAA6F,QAAQ,CAAC,UAAtG,EAJJ,cAKI,cAAO,OAAO,CAAC,UAAf,UAA2BvB,SAAS,CAAC,UAAD,CAApC,EALJ,cAMI,cAAO,IAAI,CAAC,QAAZ,CAAqB,EAAE,CAAC,UAAxB,CAAmC,SAAS,CAAC,cAA7C,CAA4D,IAAI,CAAC,UAAjE,CAA4E,QAAQ,CAAC,UAArF,CAAgG,QAAQ,CAAE,KAAKuB,UAA/G,EANJ,cAOI,cAAO,OAAO,CAAC,OAAf,UAAwBvB,SAAS,CAAC,OAAD,CAAjC,EAPJ,cAQI,cAAO,IAAI,CAAC,QAAZ,CAAqB,QAAQ,CAAC,UAA9B,CAAyC,EAAE,CAAC,OAA5C,CAAoD,IAAI,CAAC,OAAzD,CAAiE,SAAS,CAAC,cAA3E,CAA0F,QAAQ,CAAE,KAAKuB,UAAzG,EARJ,cASI,aAAK,SAAS,CAAC,gCAAf,wBACI,cAAO,IAAI,CAAC,UAAZ,CAAuB,SAAS,CAAC,sBAAjC,CAAwD,EAAE,CAAC,aAA3D,CAAyE,IAAI,CAAC,MAA9E,CAAqF,OAAO,CAAE,KAAKnB,KAAL,CAAWK,IAAzG,CAA+G,QAAQ,CAAE,KAAKc,UAA9H,EADJ,cAEI,eAAO,SAAS,CAAC,sBAAjB,CAAwC,OAAO,CAAC,aAAhD,eAAgEvB,SAAS,CAAC,MAAD,CAAzE,GAFJ,GATJ,CAaK,KAAKQ,KAAL,EAbL,cAcI,eAAO,OAAO,CAAC,KAAf,WAAsBR,SAAS,CAAC,YAAD,CAA/B,OAdJ,cAeI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,KAAxB,CAA8B,QAAQ,CAAC,UAAvC,CAAkD,MAAM,CAAC,gBAAzD,CAA0E,QAAQ,CAAE,KAAK0B,cAAzF,EAfJ,cAe+G,aAf/G,cAgBI,cAAO,OAAO,CAAC,MAAf,UAAuB1B,SAAS,CAAC,MAAD,CAAhC,EAhBJ,cAiBI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,MAAxB,CAA+B,QAAQ,CAAC,UAAxC,CAAmD,SAAS,CAAC,cAA7D,CAA4E,QAAQ,CAAE,KAAKuB,UAA3F,EAjBJ,cAkBI,cAAO,OAAO,CAAC,OAAf,UAAwBvB,SAAS,CAAC,SAAD,CAAjC,EAlBJ,cAmBI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,OAAxB,CAAgC,QAAQ,CAAC,UAAzC,CAAoD,SAAS,CAAC,cAA9D,CAA6E,QAAQ,CAAE,KAAKuB,UAA5F,EAnBJ,cAoBI,cAAO,OAAO,CAAC,MAAf,UAAuBvB,SAAS,CAAC,MAAD,CAAhC,EApBJ,cAqBI,iBAAU,IAAI,CAAC,IAAf,CAAoB,IAAI,CAAC,IAAzB,CAA8B,QAAQ,CAAC,UAAvC,CAAkD,IAAI,CAAC,MAAvD,CAA8D,SAAS,CAAC,cAAxE,CAAuF,QAAQ,CAAE,KAAKuB,UAAtG,EArBJ,cAsBI,cAAO,OAAO,CAAC,UAAf,UAA2BvB,SAAS,CAAC,UAAD,CAApC,EAtBJ,cAuBI,gBAAQ,IAAI,CAAC,UAAb,CAAwB,KAAK,CAAC,oBAA9B,CAAmD,QAAQ,CAAC,UAA5D,CAAuE,QAAQ,CAAE,KAAKuB,UAAtF,wBACI,KAAC,gBAAD,EAAkB,EAAE,CAAC,KAArB,CAA2B,cAAc,CAAC,kBAA1C,UACK,kBAAA2C,MAAM,qBACH,eAAQ,KAAK,CAAC,kBAAd,UAAkCA,MAAlC,EADG,EADX,EADJ,cAMI,KAAC,gBAAD,EAAkB,EAAE,CAAC,KAArB,CAA2B,cAAc,CAAC,uBAA1C,UACK,kBAAAC,MAAM,qBACH,eAAQ,KAAK,CAAC,uBAAd,UAAuCA,MAAvC,EADG,EADX,EANJ,cAWI,KAAC,gBAAD,EAAkB,EAAE,CAAC,KAArB,CAA2B,cAAc,CAAC,sBAA1C,UACK,kBAAAC,MAAM,qBACH,eAAQ,KAAK,CAAC,sBAAd,UAAsCA,MAAtC,EADG,EADX,EAXJ,cAgBI,KAAC,gBAAD,EAAkB,EAAE,CAAC,KAArB,CAA2B,cAAc,CAAC,uBAA1C,UACK,kBAAAC,MAAM,qBACH,eAAQ,KAAK,CAAC,uBAAd,UAAuCA,MAAvC,EADG,EADX,EAhBJ,cAqBI,KAAC,gBAAD,EAAkB,EAAE,CAAC,KAArB,CAA2B,cAAc,CAAC,2BAA1C,UACK,kBAAAC,MAAM,qBACH,eAAQ,KAAK,CAAC,2BAAd,UAA2CA,MAA3C,EADG,EADX,EArBJ,GAvBJ,cAoDI,cAAO,OAAO,CAAC,OAAf,UAAwBtE,SAAS,CAAC,OAAD,CAAjC,EApDJ,cAqDI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,OAAxB,CAAgC,QAAQ,CAAC,UAAzC,CAAoD,SAAS,CAAC,cAA9D,CAA6E,QAAQ,CAAE,KAAKuB,UAA5F,EArDJ,cAsDI,aAtDJ,cAsDU,aAtDV,kBAsDiB,cAAO,IAAI,CAAC,QAAZ,CAAqB,SAAS,CAAC,cAA/B,EAtDjB,GADJ,EAFJ,EADJ,CAgEH,CACJ,C,2BA/NuB7B,S,EAkO5B,cAAeQ,CAAAA,aAAf","sourcesContent":["import axios from 'axios';\r\nimport React, { Component } from 'react';\r\nimport cookie from 'react-cookies'\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { Redirect } from 'react-router';\r\nimport { I18nProvider, LOCALES } from '../i18n';\r\nimport translate from '../i18n/tranlate';\r\nimport Navbar from './Navbar';\r\n\r\nclass CreateProduct extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: null,\r\n            color: null,\r\n            desc: null,\r\n            price: null,\r\n            sale: false,\r\n            price_in_sale: 2,\r\n            quantity: null,\r\n            img: undefined,\r\n            size: null,\r\n            category: 'Men & Women  Clothes',\r\n            brand: null,\r\n            csrfmiddlewaretoken: cookie.load('csrftoken'),\r\n            success: '',\r\n            user: '',\r\n            cart: 0,\r\n            wishlist: 0\r\n        }\r\n        this.handleForm = this.handleForm.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleFileForm = this.handleFileForm.bind(this);\r\n        this.price = this.price.bind(this);\r\n        this.clear = this.clear.bind(this);\r\n        this.lang2 = this.lang2.bind(this);\r\n    }\r\n    handleForm(event) {\r\n        let comp = this;\r\n        console.log(event.target.name, event.target.value)\r\n        if (event.target.name === 'sale') {\r\n            if (event.target.checked === true) {\r\n                comp.setState({\r\n                    sale: true\r\n                })\r\n                console.log(\"Sale:False\")\r\n            }\r\n            else {\r\n                comp.setState({\r\n                    sale: false\r\n                })\r\n                console.log(\"Sale:True\")\r\n            }\r\n        }\r\n        else {\r\n            this.setState({\r\n                [event.target.name]: event.target.value,\r\n            })\r\n            console.log('not checkbox')\r\n        }\r\n\r\n\r\n    }\r\n    price() {\r\n        if (this.state.sale) {\r\n            return (<I18nProvider locale={this.lang1()}>\r\n                <label htmlFor=\"price\">{translate('p_i_s')}</label>\r\n                <input type=\"number\" name=\"price_in_sale\" className='form-control' onChange={this.handleForm} />\r\n            </I18nProvider>)\r\n        }\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        let csrf = cookie.load('csrftoken');\r\n        var formData = new FormData();\r\n        formData.append('img', this.state.img)\r\n        formData.append('name', this.state.name)\r\n        formData.append('color', this.state.color)\r\n        formData.append('desc', this.state.desc)\r\n        formData.append('price', this.state.price)\r\n        formData.append('price_in_sale', this.state.price_in_sale)\r\n        formData.append('sale', this.state.sale)\r\n        formData.append('quantity', this.state.quantity)\r\n        formData.append('img', this.state.img)\r\n        formData.append('size', this.state.size)\r\n        formData.append('sale', this.state.sale)\r\n        formData.append('category', this.state.category)\r\n        formData.append('brand', this.state.brand)\r\n        formData.append('user', '')\r\n        event.preventDefault();\r\n        console.log(this.state)\r\n        axios({\r\n            method: 'POST',\r\n            url: 'http://127.0.0.1:8000/api1/',\r\n            headers: {\r\n                \"Content-Type\": \"multipart/form-data\",\r\n                'X-CSRFToken': csrf\r\n            },\r\n            data: formData,\r\n            credentials: 'include'\r\n        })\r\n            .then(response => {\r\n                console.log(response)\r\n                // this.setState({\r\n                //     success:\"New announcement created successfully\"\r\n                // })\r\n            })\r\n            .catch(errors => {\r\n\r\n                this.setState({\r\n                    success: \"Something went wrong\"\r\n                })\r\n            })\r\n        this.clear()\r\n        setTimeout(() => {\r\n            this.setState({\r\n                success: ''\r\n            })\r\n        }, 5000);\r\n    }\r\n    clear() {\r\n        this.ppp.reset();\r\n    }\r\n    handleFileForm(event) {\r\n        event.preventDefault();\r\n        let files = event.target.files;\r\n        this.setState({\r\n            img: files[0]\r\n        }, () => console.log(this.state));\r\n    }\r\n    componentDidMount() {\r\n        axios.get('http://127.0.0.1:8000/sdlkewrws/')\r\n            .then(response => {\r\n                this.setState({\r\n                    cart: response.data.cart,\r\n                    wishlist: response.data.wishlist\r\n                })\r\n            })\r\n    }\r\n    lang1() {\r\n        if (localStorage.getItem('lang') === 'en') {\r\n\r\n            return LOCALES.English\r\n        }\r\n        else if (localStorage.getItem('lang') === 'ru') {\r\n            return LOCALES.Russian\r\n        }\r\n        else if (localStorage.getItem('lang') === 'uz') {\r\n            return LOCALES.Uzbek\r\n        }\r\n        else {\r\n            console.log(\"Error\")\r\n        }\r\n    }\r\n\r\n    lang2(ev) {\r\n        localStorage.setItem('lang', ev);\r\n        this.setState({\r\n            lang: ev\r\n        })\r\n\r\n    }\r\n    render() {\r\n        if (this.props.state.user === \"False\") {\r\n            return <Redirect to=\"/\" />\r\n        }\r\n        else {\r\n            return (\r\n                <I18nProvider locale={this.lang1()}>\r\n\r\n                    <div className='container'>\r\n                        <form onSubmit={this.handleSubmit} className='container' ref={(el) => this.ppp = el} encType=\"multipart/form-data\">\r\n                            {this.state.success !== '' ? <center>  <div class=\"alert alert-info alert-dismissible fade show fixed-top\">\r\n                                <button type=\"button\" class=\"close\" data-dismiss=\"alert\">&times;</button>{this.state.success}</div></center> : ''}\r\n                            <label htmlFor='name'>{translate('p_name')}</label>\r\n                            <input type=\"text\" id='name' name=\"name\" className='form-control' onChange={this.handleForm} required='required' />\r\n                            <label htmlFor=\"quantity\">{translate('quantity')}</label>\r\n                            <input type=\"number\" id='quantity' className='form-control' name=\"quantity\" required='required' onChange={this.handleForm} />\r\n                            <label htmlFor=\"price\">{translate('price')}</label>\r\n                            <input type=\"number\" required='required' id='price' name=\"price\" className='form-control' onChange={this.handleForm} />\r\n                            <div className=\"custom-control custom-checkbox\">\r\n                                <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck\" name=\"sale\" checked={this.state.sale} onChange={this.handleForm} />\r\n                                <label className=\"custom-control-label\" htmlFor=\"customCheck\"> {translate('sale')}</label>\r\n                            </div>\r\n                            {this.price()}\r\n                            <label htmlFor=\"img\">{translate('main_image')} </label>\r\n                            <input type=\"file\" name='img' required='required' accept='.jpg,.png,.svg' onChange={this.handleFileForm} /><br />\r\n                            <label htmlFor=\"size\">{translate('size')}</label>\r\n                            <input type=\"text\" name=\"size\" required='required' className='form-control' onChange={this.handleForm} />\r\n                            <label htmlFor=\"color\">{translate('a_color')}</label>\r\n                            <input type=\"text\" name=\"color\" required='required' className='form-control' onChange={this.handleForm} />\r\n                            <label htmlFor=\"desc\">{translate('desc')}</label>\r\n                            <textarea cols=\"30\" rows=\"10\" required='required' name=\"desc\" className='form-control' onChange={this.handleForm}></textarea>\r\n                            <label htmlFor=\"category\">{translate('category')}</label>\r\n                            <select name=\"category\" class=\"custom-select mb-3\" required='required' onChange={this.handleForm}>\r\n                                <FormattedMessage id='c_1' defaultMessage='Fashion & Beauty'>\r\n                                    {value1 => (\r\n                                        <option value=\"Fashion & Beauty\">{value1}</option>\r\n                                    )}\r\n                                </FormattedMessage>\r\n                                <FormattedMessage id='c_2' defaultMessage='Kids & Babies Clothes'>\r\n                                    {value2 => (\r\n                                        <option value=\"Kids & Babies Clothes\">{value2}</option>\r\n                                    )}\r\n                                </FormattedMessage>\r\n                                <FormattedMessage id='c_3' defaultMessage='Men & Women  Clothes'>\r\n                                    {value3 => (\r\n                                        <option value=\"Men & Women  Clothes\">{value3}</option>\r\n                                    )}\r\n                                </FormattedMessage>\r\n                                <FormattedMessage id='c_4' defaultMessage='Gadgets & Accessories'>\r\n                                    {value4 => (\r\n                                        <option value=\"Gadgets & Accessories\">{value4}</option>\r\n                                    )}\r\n                                </FormattedMessage>\r\n                                <FormattedMessage id='c_5' defaultMessage='Electronics & Accessories'>\r\n                                    {value5 => (\r\n                                        <option value=\"Electronics & Accessories\">{value5}</option>\r\n                                    )}\r\n                                </FormattedMessage>\r\n\r\n\r\n                            </select>\r\n                            <label htmlFor=\"brand\">{translate('brand')}</label>\r\n                            <input type=\"text\" name=\"brand\" required='required' className='form-control' onChange={this.handleForm} />\r\n                            <br /><br /> <input type=\"submit\" className=\"btn btn-info\" />\r\n\r\n                        </form>\r\n                    </div>\r\n                </I18nProvider>\r\n            );\r\n        }\r\n    }\r\n}\r\n\r\nexport default CreateProduct;"]},"metadata":{},"sourceType":"module"}