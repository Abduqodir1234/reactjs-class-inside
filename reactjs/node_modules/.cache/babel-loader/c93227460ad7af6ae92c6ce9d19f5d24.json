{"ast":null,"code":"import _defineProperty from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import cookie from'react-cookies';import Navbar from'./compenents/Navbar';import{Redirect}from'react-router';import{I18nProvider,LOCALES}from'./i18n';import translate from'./i18n/tranlate';import{FormattedMessage}from'react-intl';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=/*#__PURE__*/function(_Component){_inherits(Register,_Component);var _super=_createSuper(Register);function Register(props){var _this;_classCallCheck(this,Register);_this=_super.call(this,props);_this.state={username:null,username_errror:'',email:null,email_error:'',password1:null,password1_error:'',password2:null,password2_error:'',success:'',valid:false,cart:0,wishlist:0,lang:''};_this.empty=function(){setTimeout(function(){_this.setState({success:''});},9000);};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handlefield=_this.handlefield.bind(_assertThisInitialized(_this));_this.data1=_this.data1.bind(_assertThisInitialized(_this));_this.clearform=_this.clearform.bind(_assertThisInitialized(_this));_this.lang2=_this.lang2.bind(_assertThisInitialized(_this));return _this;}_createClass(Register,[{key:\"lang2\",value:function lang2(ev){localStorage.setItem('lang',ev);this.setState({lang:ev});}},{key:\"data1\",value:function data1(data){var csrf=cookie.load('csrftoken');return/*#__PURE__*/_jsx(\"div\",{style:{color:'red'},children:this.state.success});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get('http://127.0.0.1:8000/sdlkewrws/').then(function(response){_this2.setState({cart:response.data.cart,wishlist:response.data.wishlist});});}},{key:\"clearform\",value:function clearform(){this.PostCreateForm.reset();}},{key:\"handleSubmit\",value:function handleSubmit(event){event.preventDefault();var comp=this;var formData=new FormData();formData.append('username',this.state.username);formData.append('email',this.state.email);formData.append('password1',this.state.password1);formData.append('password2',this.state.password2);var csrf=cookie.load('csrftoken');axios({method:'POST',url:'http://127.0.0.1:8000/register/',headers:{'Content-Type':'application/json','X-CSRFToken':csrf},data:formData,credentials:'include'}).then(function(response){if(response.data==='True'){comp.setState({valid:true,success:'New Account is created succesfully'});}else if(response.data.username){console.log('Username');comp.setState({username_errror:response.data.username});}else if(response.data.email){comp.setState({email_error:response.data.email});}else if(response.data.password1){comp.setState({password1_error:response.data.password1});}else if(response.data.password2){comp.setState({password2_error:response.data.password2});}});this.clearform();setTimeout(function(){comp.setState({username_errror:'',email_error:'',password1_error:'',password2_error:''});},5000);}},{key:\"handlefield\",value:function handlefield(event){event.preventDefault();this.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"count\",value:function count(){var _this3=this;axios.get('http://127.0.0.1:8000/sdlkewrws/').then(function(response){_this3.setState({cart:response.data.cart,wishlist:response.data.wishlist});});}},{key:\"lang1\",value:function lang1(){if(localStorage.getItem('lang')==='en'){return LOCALES.English;}else if(localStorage.getItem('lang')==='ru'){return LOCALES.Russian;}else if(localStorage.getItem('lang')==='uz'){return LOCALES.Uzbek;}else{return LOCALES.Uzbek;}}},{key:\"render\",value:function render(){var _this4=this;var csrf=cookie.load('csrftoken');console.log(this.state.success,\"Salom\");if(this.state.valid){return/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}else{return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(I18nProvider,{locale:this.lang1(),children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,ref:function ref(el){return _this4.PostCreateForm=el;},className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:translate('register')}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"label\",{children:[\" \",translate('username')]}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",name:\"username\",id:\"\",placeholder:\"Sizning Foydalanuvchi nomingiz\",onChange:this.handlefield,required:\"required\"}),this.state.username_errror!==''?/*#__PURE__*/_jsx(\"label\",{className:\"alert alert-danger\",style:{color:'red',width:'100%'},children:this.state.username_errror}):'',/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:translate('email')}),/*#__PURE__*/_jsx(FormattedMessage,{id:\"form.email.placeholder\",children:function children(placeholder){return/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",className:\"form-control\",placeholder:placeholder,onChange:_this4.handlefield,required:\"required\"});}}),this.state.email_error!==''?/*#__PURE__*/_jsx(\"label\",{className:\"alert alert-danger\",style:{color:'red',width:'100%'},children:this.state.email_error}):'',/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:translate('password')}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"password\",name:\"password1\",placeholder:\"Password\",onChange:this.handlefield,required:\"required\"}),this.state.password1_error!==''?/*#__PURE__*/_jsx(\"label\",{className:\"alert alert-danger\",style:{color:'red',width:'100%'},children:this.state.password1_error}):'',/*#__PURE__*/_jsx(\"label\",{children:translate('confirm_pass')}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"password\",name:\"password2\",placeholder:\"Confirmation Password\",onChange:this.handlefield,required:\"required\"}),this.state.password2_error!==''?/*#__PURE__*/_jsx(\"label\",{className:\"alert alert-danger\",style:{color:'red',width:'100%'},children:this.state.password2_error}):'',/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-info\",children:translate('submit')})]})})});}}}]);return Register;}(Component);export default Register;","map":{"version":3,"sources":["C:/For Personal Use/Django Projects/github/django-react/a/reactjs/src/pages/register.jsx"],"names":["React","Component","axios","cookie","Navbar","Redirect","I18nProvider","LOCALES","translate","FormattedMessage","Register","props","state","username","username_errror","email","email_error","password1","password1_error","password2","password2_error","success","valid","cart","wishlist","lang","empty","setTimeout","setState","handleSubmit","bind","handlefield","data1","clearform","lang2","ev","localStorage","setItem","data","csrf","load","color","get","then","response","PostCreateForm","reset","event","preventDefault","comp","formData","FormData","append","method","url","headers","credentials","console","log","target","name","value","getItem","English","Russian","Uzbek","lang1","el","width","placeholder"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios'\r\nimport cookie from 'react-cookies'\r\nimport Navbar from './compenents/Navbar'\r\nimport { Redirect } from 'react-router';\r\nimport { I18nProvider, LOCALES } from './i18n';\r\nimport translate from './i18n/tranlate';\r\nimport { FormattedMessage } from 'react-intl';\r\nclass Register extends Component {\r\n\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handlefield = this.handlefield.bind(this);\r\n        this.data1 = this.data1.bind(this);\r\n        this.clearform = this.clearform.bind(this);\r\n        this.lang2 = this.lang2.bind(this)\r\n    }\r\n\r\n    state = {\r\n        username : null,\r\n        username_errror:'',\r\n        email:null,\r\n        email_error:'',\r\n        password1:null,\r\n        password1_error:'',\r\n        password2:null,\r\n        password2_error:'',\r\n        success:'',\r\n        valid:false,\r\n        cart:0,\r\n        wishlist:0,\r\n        lang:''\r\n    }\r\n    lang2(ev){\r\n        localStorage.setItem('lang',ev);\r\n        this.setState({\r\n            lang:ev\r\n        })\r\n    \r\n      }\r\n    data1(data){\r\n        let csrf = cookie.load('csrftoken');\r\n            return <div style={{color:'red'}}>\r\n                        {this.state.success}\r\n          </div>\r\n    }\r\n    componentDidMount(){\r\n        axios.get('http://127.0.0.1:8000/sdlkewrws/')\r\n        .then(response => {\r\n          this.setState({\r\n            cart:response.data.cart,\r\n            wishlist:response.data.wishlist\r\n          })\r\n        })\r\n    }    \r\n    empty = () =>{\r\n        setTimeout(() => {\r\n            this.setState({\r\n                success:''\r\n            })\r\n        }, 9000);\r\n    }\r\n    clearform(){\r\n        this.PostCreateForm.reset();\r\n    }\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        let comp = this;\r\n        var formData = new FormData()\r\n        formData.append('username',this.state.username);\r\n        formData.append('email',this.state.email);\r\n        formData.append('password1',this.state.password1);\r\n        formData.append('password2',this.state.password2);\r\n        let csrf = cookie.load('csrftoken');\r\n        axios({\r\n            method:'POST',\r\n            url:'http://127.0.0.1:8000/register/',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                'X-CSRFToken':csrf\r\n            },\r\n            data:formData,\r\n            credentials:'include'\r\n        })\r\n        .then(response => {\r\n                if(response.data === 'True'){\r\n                    comp.setState({\r\n                        valid:true,\r\n                        success:'New Account is created succesfully'\r\n                    })\r\n                }\r\n                else if(response.data.username){\r\n                    console.log('Username')\r\n                    comp.setState({\r\n                        username_errror:response.data.username\r\n                    })\r\n                }\r\n                else if(response.data.email){\r\n                    comp.setState({\r\n                        email_error:response.data.email\r\n                    })\r\n                }\r\n                else if(response.data.password1){\r\n                    comp.setState({\r\n                        password1_error:response.data.password1\r\n                    })\r\n                }\r\n                else if(response.data.password2){\r\n                    comp.setState({\r\n                        password2_error:response.data.password2\r\n                    })\r\n                }\r\n\r\n        })\r\n        this.clearform()\r\n        setTimeout(() => {\r\n            comp.setState({\r\n                username_errror:'',\r\n                email_error:'',\r\n                password1_error:'',\r\n                password2_error:''\r\n            })\r\n        }, 5000);\r\n    }\r\n    handlefield(event)\r\n    {\r\n        event.preventDefault();\r\n        this.setState({\r\n            [event.target.name]:event.target.value,\r\n        })\r\n        \r\n    }\r\n    count(){\r\n        axios.get('http://127.0.0.1:8000/sdlkewrws/')\r\n        .then(response => {\r\n        this.setState({\r\n            cart:response.data.cart,\r\n            wishlist:response.data.wishlist\r\n        })\r\n        })\r\n    }\r\n    lang1(){\r\n        if(localStorage.getItem('lang') === 'en'){\r\n            \r\n            return LOCALES.English\r\n        }\r\n        else if(localStorage.getItem('lang')=== 'ru'){\r\n            return LOCALES.Russian \r\n        }\r\n        else if(localStorage.getItem('lang')=== 'uz'){\r\n            return LOCALES.Uzbek\r\n        }\r\n        else{\r\n            return LOCALES.Uzbek\r\n        }\r\n    }\r\n    render() {\r\n        let csrf = cookie.load('csrftoken');\r\n        console.log(this.state.success,\"Salom\")\r\n     \r\n               if(this.state.valid)\r\n               {\r\n                return <Redirect to='/login'/>\r\n               }\r\n               else{\r\n                return ( \r\n            \r\n                    <div>\r\n                     \r\n                     <I18nProvider locale={this.lang1()}>\r\n\r\n                        <form onSubmit={this.handleSubmit} ref = {(el) => this.PostCreateForm = el} className=\"container\">\r\n                        <h2>{translate('register')}</h2><br/>\r\n                    \r\n                            <label> {translate('username')}</label>\r\n                                <input className='form-control' type=\"text\" name=\"username\" id=\"\" placeholder='Sizning Foydalanuvchi nomingiz' onChange={this.handlefield} required = 'required' />\r\n                        \r\n                            {this.state.username_errror !== '' ?   <label className='alert alert-danger' style={{color:'red',width:'100%'}}>{this.state.username_errror}</label> : ''}\r\n                            <br/>\r\n                            <label htmlFor=\"email\">{translate('email')}</label>\r\n                               <FormattedMessage id='form.email.placeholder' >\r\n                                   {placeholder =>\r\n                                        <input type=\"email\" name=\"email\" className='form-control' placeholder={placeholder} onChange={this.handlefield} required='required' />\r\n                                   }\r\n                               </FormattedMessage>\r\n                            {this.state.email_error !== '' ?  <label className='alert alert-danger' style={{color:'red',width:'100%'}}>{this.state.email_error}</label> :''}<br/>\r\n                            <label>{translate('password')}</label>\r\n                                <input className='form-control' type=\"password\" name=\"password1\" placeholder='Password' onChange={this.handlefield} required = 'required' />\r\n                                {this.state.password1_error !== '' ? <label className='alert alert-danger' style={{color:'red',width:'100%'}}>{this.state.password1_error}</label> :''}\r\n                            <label>{translate('confirm_pass')}</label>\r\n                                    <input className='form-control' type=\"password\" name=\"password2\" placeholder='Confirmation Password' onChange={this.handlefield} required = 'required' />\r\n                                    {this.state.password2_error !== '' ? <label className='alert alert-danger' style={{color:'red',width:'100%'}}>{this.state.password2_error}</label> :''}<br/>\r\n                            <br/>\r\n                                <br/>\r\n                            <button type='submit' className='btn btn-info'>{translate('submit')}</button>\r\n                            \r\n                        </form>\r\n                     </I18nProvider>\r\n                 </div> \r\n                  );\r\n               }\r\n             \r\n      \r\n\r\n    }\r\n}\r\n \r\nexport default Register ;"]},"metadata":{},"sourceType":"module"}