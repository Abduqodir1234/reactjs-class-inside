{"ast":null,"code":"var _jsxFileName = \"C:\\\\For Personal Use\\\\Django Projects\\\\github\\\\django-react\\\\a\\\\reactjs\\\\src\\\\pages\\\\register.jsx\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nimport Navbar from './compenents/Navbar';\nimport { Redirect } from 'react-router';\nimport { I18nProvider, LOCALES } from './i18n';\nimport translate from './i18n/tranlate';\nimport { FormattedMessage } from 'react-intl';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Register extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: null,\n      username_errror: '',\n      email: null,\n      email_error: '',\n      password1: null,\n      password1_error: '',\n      password2: null,\n      password2_error: '',\n      success: '',\n      valid: false,\n      cart: 0,\n      wishlist: 0,\n      lang: ''\n    };\n\n    this.empty = () => {\n      setTimeout(() => {\n        this.setState({\n          success: ''\n        });\n      }, 9000);\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handlefield = this.handlefield.bind(this);\n    this.data1 = this.data1.bind(this);\n    this.clearform = this.clearform.bind(this);\n    this.lang2 = this.lang2.bind(this);\n  }\n\n  lang2(ev) {\n    localStorage.setItem('lang', ev);\n    this.setState({\n      lang: ev\n    });\n  }\n\n  data1(data) {\n    let csrf = cookie.load('csrftoken');\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red'\n      },\n      children: this.state.success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 20\n    }, this);\n  }\n\n  componentDidMount() {\n    axios.get('http://127.0.0.1:8000/sdlkewrws/').then(response => {\n      this.setState({\n        cart: response.data.cart,\n        wishlist: response.data.wishlist\n      });\n    });\n  }\n\n  clearform() {\n    this.PostCreateForm.reset();\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    let comp = this;\n    var formData = new FormData();\n    formData.append('username', this.state.username);\n    formData.append('email', this.state.email);\n    formData.append('password1', this.state.password1);\n    formData.append('password2', this.state.password2);\n    let csrf = cookie.load('csrftoken');\n    axios({\n      method: 'POST',\n      url: 'http://127.0.0.1:8000/register/',\n      headers: {\n        'Content-Type': 'application/json',\n        'X-CSRFToken': csrf\n      },\n      data: formData,\n      credentials: 'include'\n    }).then(response => {\n      if (response.data === 'True') {\n        comp.setState({\n          valid: true,\n          success: 'New Account is created succesfully'\n        });\n      } else if (response.data.username) {\n        console.log('Username');\n        comp.setState({\n          username_errror: response.data.username\n        });\n      } else if (response.data.email) {\n        comp.setState({\n          email_error: response.data.email\n        });\n      } else if (response.data.password1) {\n        comp.setState({\n          password1_error: response.data.password1\n        });\n      } else if (response.data.password2) {\n        comp.setState({\n          password2_error: response.data.password2\n        });\n      }\n    });\n    this.clearform();\n    setTimeout(() => {\n      comp.setState({\n        username_errror: '',\n        email_error: '',\n        password1_error: '',\n        password2_error: ''\n      });\n    }, 5000);\n  }\n\n  handlefield(event) {\n    event.preventDefault();\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  count() {\n    axios.get('http://127.0.0.1:8000/sdlkewrws/').then(response => {\n      this.setState({\n        cart: response.data.cart,\n        wishlist: response.data.wishlist\n      });\n    });\n  }\n\n  lang1() {\n    if (localStorage.getItem('lang') === 'en') {\n      return LOCALES.English;\n    } else if (localStorage.getItem('lang') === 'ru') {\n      return LOCALES.Russian;\n    } else if (localStorage.getItem('lang') === 'uz') {\n      return LOCALES.Uzbek;\n    } else {\n      return LOCALES.Uzbek;\n    }\n  }\n\n  render() {\n    let csrf = cookie.load('csrftoken');\n    console.log(this.state.success, \"Salom\");\n\n    if (this.state.valid) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 24\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(I18nProvider, {\n          locale: this.lang1(),\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.handleSubmit,\n            ref: el => this.PostCreateForm = el,\n            className: \"container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: translate('register')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 57\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\" \", translate('username')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(FormattedMessage, {\n              id: \"username\",\n              defaultMessage: \"Sizning foydalanuvchi nomingiz\",\n              children: placeholder3 => /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control\",\n                placeholder: placeholder3,\n                type: \"text\",\n                name: \"username\",\n                id: \"\",\n                placeholder: placeholder3,\n                onChange: this.handlefield,\n                required: \"required\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 34\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 29\n            }, this), this.state.username_errror !== '' ? /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"alert alert-danger\",\n              style: {\n                color: 'red',\n                width: '100%'\n              },\n              children: this.state.username_errror\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 68\n            }, this) : '', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              children: translate('email')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(FormattedMessage, {\n              id: \"email\",\n              children: placeholder => /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                name: \"email\",\n                className: \"form-control\",\n                placeholder: placeholder,\n                onChange: this.handlefield,\n                required: \"required\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 32\n            }, this), this.state.email_error !== '' ? /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"alert alert-danger\",\n              style: {\n                color: 'red',\n                width: '100%'\n              },\n              children: this.state.email_error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 63\n            }, this) : '', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 173\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: translate('password')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(FormattedMessage, {\n              id: \"password\",\n              defaultMessage: \"Sizning parolingiz\",\n              children: placeholder2 => /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control\",\n                type: \"password\",\n                name: \"password1\",\n                placeholder: placeholder2,\n                onChange: this.handlefield,\n                required: \"required\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 34\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 29\n            }, this), this.state.password1_error !== '' ? /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"alert alert-danger\",\n              style: {\n                color: 'red',\n                width: '100%'\n              },\n              children: this.state.password1_error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 70\n            }, this) : '', /*#__PURE__*/_jsxDEV(\"label\", {\n              children: translate('confirm_pass')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(FormattedMessage, {\n              id: \"confirm_pass\",\n              defaultMessage: \"Sizning parolingiz\",\n              children: placeholder5 => /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-control\",\n                type: \"password\",\n                name: \"password2\",\n                placeholder: \"Confirmation Password\",\n                onChange: this.handlefield,\n                required: \"required\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 35\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 29\n            }, this), this.state.password2_error !== '' ? /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"alert alert-danger\",\n              style: {\n                color: 'red',\n                width: '100%'\n              },\n              children: this.state.password2_error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 74\n            }, this) : '', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 188\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-info\",\n              children: translate('submit')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }, this);\n    }\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["C:/For Personal Use/Django Projects/github/django-react/a/reactjs/src/pages/register.jsx"],"names":["React","Component","axios","cookie","Navbar","Redirect","I18nProvider","LOCALES","translate","FormattedMessage","Register","constructor","props","state","username","username_errror","email","email_error","password1","password1_error","password2","password2_error","success","valid","cart","wishlist","lang","empty","setTimeout","setState","handleSubmit","bind","handlefield","data1","clearform","lang2","ev","localStorage","setItem","data","csrf","load","color","componentDidMount","get","then","response","PostCreateForm","reset","event","preventDefault","comp","formData","FormData","append","method","url","headers","credentials","console","log","target","name","value","count","lang1","getItem","English","Russian","Uzbek","render","el","placeholder3","width","placeholder","placeholder2","placeholder5"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios'\r\nimport cookie from 'react-cookies'\r\nimport Navbar from './compenents/Navbar'\r\nimport { Redirect } from 'react-router';\r\nimport { I18nProvider, LOCALES } from './i18n';\r\nimport translate from './i18n/tranlate';\r\nimport { FormattedMessage } from 'react-intl';\r\nclass Register extends Component {\r\n\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handlefield = this.handlefield.bind(this);\r\n        this.data1 = this.data1.bind(this);\r\n        this.clearform = this.clearform.bind(this);\r\n        this.lang2 = this.lang2.bind(this)\r\n    }\r\n\r\n    state = {\r\n        username : null,\r\n        username_errror:'',\r\n        email:null,\r\n        email_error:'',\r\n        password1:null,\r\n        password1_error:'',\r\n        password2:null,\r\n        password2_error:'',\r\n        success:'',\r\n        valid:false,\r\n        cart:0,\r\n        wishlist:0,\r\n        lang:''\r\n    }\r\n    lang2(ev){\r\n        localStorage.setItem('lang',ev);\r\n        this.setState({\r\n            lang:ev\r\n        })\r\n    \r\n      }\r\n    data1(data){\r\n        let csrf = cookie.load('csrftoken');\r\n            return <div style={{color:'red'}}>\r\n                        {this.state.success}\r\n          </div>\r\n    }\r\n    componentDidMount(){\r\n        axios.get('http://127.0.0.1:8000/sdlkewrws/')\r\n        .then(response => {\r\n          this.setState({\r\n            cart:response.data.cart,\r\n            wishlist:response.data.wishlist\r\n          })\r\n        })\r\n    }    \r\n    empty = () =>{\r\n        setTimeout(() => {\r\n            this.setState({\r\n                success:''\r\n            })\r\n        }, 9000);\r\n    }\r\n    clearform(){\r\n        this.PostCreateForm.reset();\r\n    }\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        let comp = this;\r\n        var formData = new FormData()\r\n        formData.append('username',this.state.username);\r\n        formData.append('email',this.state.email);\r\n        formData.append('password1',this.state.password1);\r\n        formData.append('password2',this.state.password2);\r\n        let csrf = cookie.load('csrftoken');\r\n        axios({\r\n            method:'POST',\r\n            url:'http://127.0.0.1:8000/register/',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n                'X-CSRFToken':csrf\r\n            },\r\n            data:formData,\r\n            credentials:'include'\r\n        })\r\n        .then(response => {\r\n                if(response.data === 'True'){\r\n                    comp.setState({\r\n                        valid:true,\r\n                        success:'New Account is created succesfully'\r\n                    })\r\n                }\r\n                else if(response.data.username){\r\n                    console.log('Username')\r\n                    comp.setState({\r\n                        username_errror:response.data.username\r\n                    })\r\n                }\r\n                else if(response.data.email){\r\n                    comp.setState({\r\n                        email_error:response.data.email\r\n                    })\r\n                }\r\n                else if(response.data.password1){\r\n                    comp.setState({\r\n                        password1_error:response.data.password1\r\n                    })\r\n                }\r\n                else if(response.data.password2){\r\n                    comp.setState({\r\n                        password2_error:response.data.password2\r\n                    })\r\n                }\r\n\r\n        })\r\n        this.clearform()\r\n        setTimeout(() => {\r\n            comp.setState({\r\n                username_errror:'',\r\n                email_error:'',\r\n                password1_error:'',\r\n                password2_error:''\r\n            })\r\n        }, 5000);\r\n    }\r\n    handlefield(event)\r\n    {\r\n        event.preventDefault();\r\n        this.setState({\r\n            [event.target.name]:event.target.value,\r\n        })\r\n        \r\n    }\r\n    count(){\r\n        axios.get('http://127.0.0.1:8000/sdlkewrws/')\r\n        .then(response => {\r\n        this.setState({\r\n            cart:response.data.cart,\r\n            wishlist:response.data.wishlist\r\n        })\r\n        })\r\n    }\r\n    lang1(){\r\n        if(localStorage.getItem('lang') === 'en'){\r\n            \r\n            return LOCALES.English\r\n        }\r\n        else if(localStorage.getItem('lang')=== 'ru'){\r\n            return LOCALES.Russian \r\n        }\r\n        else if(localStorage.getItem('lang')=== 'uz'){\r\n            return LOCALES.Uzbek\r\n        }\r\n        else{\r\n            return LOCALES.Uzbek\r\n        }\r\n    }\r\n    render() {\r\n        let csrf = cookie.load('csrftoken');\r\n        console.log(this.state.success,\"Salom\")\r\n     \r\n               if(this.state.valid)\r\n               {\r\n                return <Redirect to='/login'/>\r\n               }\r\n               else{\r\n                return ( \r\n            \r\n                    <div>\r\n                     \r\n                     <I18nProvider locale={this.lang1()}>\r\n\r\n                        <form onSubmit={this.handleSubmit} ref = {(el) => this.PostCreateForm = el} className=\"container\">\r\n                        <h2>{translate('register')}</h2><br/>\r\n                    \r\n                            <label> {translate('username')}</label>\r\n                            <FormattedMessage id='username' defaultMessage='Sizning foydalanuvchi nomingiz'>\r\n                             {placeholder3 =>(\r\n                                 <input className='form-control' placeholder={placeholder3} type=\"text\" name=\"username\" id=\"\" placeholder={placeholder3} onChange={this.handlefield} required = 'required' />\r\n                        \r\n                             )}\r\n                         </FormattedMessage>\r\n                               \r\n                            {this.state.username_errror !== '' ?   <label className='alert alert-danger' style={{color:'red',width:'100%'}}>{this.state.username_errror}</label> : ''}\r\n                            <br/>\r\n                            <label htmlFor=\"email\">{translate('email')}</label>\r\n                               <FormattedMessage id='email' >\r\n                                   {placeholder =>\r\n                                        <input type=\"email\" name=\"email\" className='form-control' placeholder={placeholder} onChange={this.handlefield} required='required' />\r\n                                   }\r\n                               </FormattedMessage>\r\n                            {this.state.email_error !== '' ?  <label className='alert alert-danger' style={{color:'red',width:'100%'}}>{this.state.email_error}</label> :''}<br/>\r\n                            <label>{translate('password')}</label>\r\n                            <FormattedMessage id='password' defaultMessage='Sizning parolingiz'>\r\n                             {placeholder2 =>(\r\n                                 <input className='form-control' type=\"password\" name=\"password1\" placeholder={placeholder2} onChange={this.handlefield} required = 'required' />\r\n                             )}\r\n                         </FormattedMessage>\r\n                               \r\n                                {this.state.password1_error !== '' ? <label className='alert alert-danger' style={{color:'red',width:'100%'}}>{this.state.password1_error}</label> :''}\r\n                            <label>{translate('confirm_pass')}</label>\r\n                            <FormattedMessage id='confirm_pass' defaultMessage='Sizning parolingiz'>\r\n                             {placeholder5 =>(\r\n                                  <input className='form-control' type=\"password\" name=\"password2\" placeholder='Confirmation Password' onChange={this.handlefield} required = 'required' />\r\n                             )}\r\n                         </FormattedMessage>\r\n                                  \r\n                                    {this.state.password2_error !== '' ? <label className='alert alert-danger' style={{color:'red',width:'100%'}}>{this.state.password2_error}</label> :''}<br/>\r\n                            <br/>\r\n                                <br/>\r\n                            <button type='submit' className='btn btn-info'>{translate('submit')}</button>\r\n                            \r\n                        </form>\r\n                     </I18nProvider>\r\n                 </div> \r\n                  );\r\n               }\r\n             \r\n      \r\n\r\n    }\r\n}\r\n \r\nexport default Register ;"]},"metadata":{},"sourceType":"module"}