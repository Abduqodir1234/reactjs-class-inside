{"ast":null,"code":"import _defineProperty from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import cookie from'react-cookies';import Navbar from'./compenents/Navbar';import{Redirect}from'react-router';import{I18nProvider,LOCALES}from'./i18n';import translate from'./i18n/tranlate';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.state={username:null,password:undefined,success:'',login:false,lang:''};_this.empty=function(){setTimeout(function(){_this.setState({success:''});},15000);};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handlefield=_this.handlefield.bind(_assertThisInitialized(_this));_this.clearform=_this.clearform.bind(_assertThisInitialized(_this));_this.clearform=_this.clearform.bind(_assertThisInitialized(_this));_this.lang2=_this.lang2.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios({method:'POST',url:'http://127.0.0.1:8000/check_l/',headers:{'Content-Type':'application/json'},credentials:'include'}).then(function(response){_this2.setState({login:response.data});});axios.get('http://127.0.0.1:8000/sdlkewrws/').then(function(response){_this2.setState({cart:response.data.cart,wishlist:response.data.wishlist});});}},{key:\"clearform\",value:function clearform(){this.PostCreateForm.reset();}},{key:\"handleSubmit\",value:function handleSubmit(event){event.preventDefault();var comp=this;var formData=new FormData();formData.append('username',this.state.username);formData.append('password',this.state.password);axios({method:'POST',url:'http://127.0.0.1:8000/sadfasd/',headers:{'Content-Type':'application/json'},data:formData,credentials:'include'}).then(function(response){console.log(response);if(response.data==='True'){comp.setState({login:true});}else{console.log(response.data);comp.setState({success:response.data});}}).catch(function(errors){console.log(errors,\"Erzrp\");comp.setState({success:\"Something Went Wrong!\"});});this.clearform();}},{key:\"lang2\",value:function lang2(ev){localStorage.setItem('lang',ev);this.setState({lang:ev});}},{key:\"handlefield\",value:function handlefield(event){event.preventDefault();this.setState(_defineProperty({},event.target.name,event.target.value));}},{key:\"lang1\",value:function lang1(){if(localStorage.getItem('lang')==='en'){return LOCALES.English;}else if(localStorage.getItem('lang')==='ru'){return LOCALES.Russian;}else if(localStorage.getItem('lang')==='uz'){return LOCALES.Uzbek;}else{return LOCALES.Uzbek;}}},{key:\"render\",value:function render(){var _this3=this;var csrf=cookie.load('csrftoken');if(this.state.login){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}else{return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(I18nProvider,{locale:this.lang1(),children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,ref:function ref(el){return _this3.PostCreateForm=el;},className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:translate('login')}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[this.state.success!==''?/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:this.state.success}):this.empty(),\"   \"]}),/*#__PURE__*/_jsx(\"label\",{children:translate('username')}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",name:\"username\",id:\"\",onChange:this.handlefield,required:\"required\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:translate('password')}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"password\",name:\"password\",onChange:this.handlefield,required:\"required\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-info\",children:translate('submit')})]})})});}}}]);return Login;}(Component);export default Login;","map":{"version":3,"sources":["C:/For Personal Use/Django Projects/github/django-react/a/reactjs/src/pages/login.jsx"],"names":["React","Component","axios","cookie","Navbar","Redirect","I18nProvider","LOCALES","translate","Login","props","state","username","password","undefined","success","login","lang","empty","setTimeout","setState","handleSubmit","bind","handlefield","clearform","lang2","method","url","headers","credentials","then","response","data","get","cart","wishlist","PostCreateForm","reset","event","preventDefault","comp","formData","FormData","append","console","log","catch","errors","ev","localStorage","setItem","target","name","value","getItem","English","Russian","Uzbek","csrf","load","lang1","el"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios'\r\nimport cookie from 'react-cookies'\r\nimport Navbar from './compenents/Navbar'\r\nimport { Redirect } from 'react-router';\r\nimport { I18nProvider,LOCALES} from './i18n';\r\nimport translate from './i18n/tranlate';\r\n\r\nclass Login extends Component {\r\n\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handlefield = this.handlefield.bind(this);\r\n        this.clearform = this.clearform.bind(this);\r\n        this.clearform = this.clearform.bind(this);\r\n        this.lang2 = this.lang2.bind(this)\r\n    }\r\n    state = {\r\n        username : null,\r\n        password:undefined,\r\n        success:'',\r\n        login:false,\r\n        lang:''\r\n    }\r\n    componentDidMount(){\r\n\r\n            axios({\r\n                method:'POST',\r\n                url:'http://127.0.0.1:8000/check_l/',\r\n                headers:{\r\n                    'Content-Type':'application/json',\r\n                   \r\n                },\r\n                credentials:'include'\r\n            })\r\n                .then(response =>{\r\n                    this.setState({\r\n                        login:response.data\r\n                    })\r\n                })\r\n                axios.get('http://127.0.0.1:8000/sdlkewrws/')\r\n                .then(response => {\r\n                    this.setState({\r\n                    cart:response.data.cart,\r\n                    wishlist:response.data.wishlist\r\n                    })\r\n                })\r\n    }    \r\n    empty = () =>{\r\n        setTimeout(() => {\r\n            this.setState({\r\n                success:''\r\n            })\r\n        }, 15000);\r\n    }\r\n    clearform(){\r\n        this.PostCreateForm.reset();\r\n    }\r\n    handleSubmit(event){\r\n        event.preventDefault();\r\n        let comp = this;\r\n        var formData = new FormData()\r\n        formData.append('username',this.state.username);\r\n        formData.append('password',this.state.password);\r\n        axios({\r\n            method:'POST',\r\n            url:'http://127.0.0.1:8000/sadfasd/',\r\n            headers:{\r\n                'Content-Type':'application/json',\r\n           \r\n            },\r\n            data:formData,\r\n            credentials:'include'\r\n        })\r\n        .then(response => {\r\n            console.log(response)\r\n            if(response.data=== 'True')\r\n            {\r\n                comp.setState({\r\n                    login:true\r\n                })\r\n            }\r\n            else{\r\n                console.log(response.data)\r\n                comp.setState({\r\n                    success:response.data\r\n                })\r\n            }\r\n            \r\n        })\r\n        .catch(errors => {\r\n            console.log(errors,\"Erzrp\")\r\n            comp.setState({\r\n                success:\"Something Went Wrong!\"\r\n            })\r\n     \r\n        })\r\n        this.clearform()\r\n    }\r\n    lang2(ev){\r\n        localStorage.setItem('lang',ev);\r\n        this.setState({\r\n            lang:ev\r\n        })\r\n    \r\n      }\r\n    handlefield(event)\r\n    {\r\n        event.preventDefault();\r\n        this.setState({\r\n            [event.target.name]:event.target.value,\r\n        })\r\n        \r\n    }\r\n    lang1(){\r\n        if(localStorage.getItem('lang') === 'en'){\r\n            \r\n            return LOCALES.English\r\n        }\r\n        else if(localStorage.getItem('lang')=== 'ru'){\r\n            return LOCALES.Russian \r\n        }\r\n        else if(localStorage.getItem('lang')=== 'uz'){\r\n            return LOCALES.Uzbek\r\n        }\r\n        else{\r\n            return LOCALES.Uzbek\r\n        }\r\n    }\r\n    render() {\r\n        let csrf = cookie.load('csrftoken');\r\n\r\n            if(this.state.login)\r\n            {\r\n                return <Redirect to='/' />\r\n            }\r\n            else{\r\n                return ( \r\n            \r\n                    <div>\r\n          \r\n                     \r\n                     \r\n                     <I18nProvider locale={this.lang1()} >\r\n                      \r\n                     <form onSubmit={this.handleSubmit} ref = {(el) => this.PostCreateForm = el} className=\"container\">\r\n                     <h2>{translate('login')}</h2><br/>\r\n                     <div >{this.state.success !== '' ? <div className='alert alert-danger'>{this.state.success}</div> : this.empty()}   </div>\r\n                         <label>{translate('username')}</label>\r\n                              <input className='form-control' type=\"text\" name=\"username\" id=\"\"  onChange={this.handlefield} required = 'required' />\r\n                         <br/>\r\n                         <label>{translate('password')}</label>\r\n                              <input className='form-control' type=\"password\" name=\"password\"  onChange={this.handlefield} required = 'required' />\r\n                         <br/>\r\n                              <br/>\r\n                              \r\n                         <button type='submit' className='btn btn-info'>{translate('submit')}</button>\r\n                         \r\n                     </form>\r\n                     </I18nProvider>\r\n                 </div> \r\n                  );\r\n            }\r\n              \r\n      \r\n\r\n    }\r\n}\r\n \r\nexport default Login ;"]},"metadata":{},"sourceType":"module"}