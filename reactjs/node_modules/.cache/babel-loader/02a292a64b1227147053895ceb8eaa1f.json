{"ast":null,"code":"import _classCallCheck from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/For Personal Use/Django Projects/github/django-react/a/reactjs/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import'whatwg-fetch';import React,{Component}from'react';import Navbar from'./compenents/Navbar';import Loading from'./compenents/loading';import Announce_post from'./compenents/announce_part';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Announcements=/*#__PURE__*/function(_Component){_inherits(Announcements,_Component);var _super=_createSuper(Announcements);function Announcements(props){var _this;_classCallCheck(this,Announcements);_this=_super.call(this,props);_this.state={loading:true,posts:[],cart:0,wishlist:0,lang:''};_this.componentDidMount=_this.componentDidMount.bind(_assertThisInitialized(_this));_this.count=_this.count.bind(_assertThisInitialized(_this));_this.lang2=_this.lang2.bind(_assertThisInitialized(_this));return _this;}_createClass(Announcements,[{key:\"lang2\",value:function lang2(ev){localStorage.setItem('lang',ev);this.setState({lang:ev});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({posts:[]});axios.get(\"http://127.0.0.1:8000/asdfasdf/\").then(function(booksList){console.log(booksList.data);if(_this2.state.posts!==booksList.data){_this2.setState({posts:booksList.data,loading:false});}});axios.get('http://127.0.0.1:8000/sdlkewrws/').then(function(response){_this2.setState({cart:response.data.cart,wishlist:response.data.wishlist});});}},{key:\"count\",value:function count(){var _this3=this;axios.get('http://127.0.0.1:8000/sdlkewrws/').then(function(response){_this3.setState({cart:response.data.cart,wishlist:response.data.wishlist});});}},{key:\"render\",value:function render(){var _this4=this;if(this.state.loading){return/*#__PURE__*/_jsx(Loading,{});}else{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{state:this.state,lang2:this.lang2}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your Announcement\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"After Your product is sold,Please press \\\"delete\\\" button\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:this.state.posts.length>0?/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"table\",{class:\"table table-hover\",children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Edit\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Delete\"})]}),this.state.posts.map(function(post){return/*#__PURE__*/_jsx(Announce_post,{mount:_this4.componentDidMount,post:post},post.id);})]})})}):/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:\"You have never create any announcement\"})})})]})]});}}}]);return Announcements;}(Component);export default Announcements;","map":{"version":3,"sources":["C:/For Personal Use/Django Projects/github/django-react/a/reactjs/src/pages/announcements.jsx"],"names":["React","Component","Navbar","Loading","Announce_post","axios","Announcements","props","state","loading","posts","cart","wishlist","lang","componentDidMount","bind","count","lang2","ev","localStorage","setItem","setState","get","then","booksList","console","log","data","response","length","map","post","id"],"mappings":"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","sourcesContent":["\r\nimport 'whatwg-fetch'\r\nimport React, { Component } from 'react';\r\nimport Navbar from './compenents/Navbar';\r\nimport Loading from './compenents/loading';\r\nimport Announce_post from './compenents/announce_part';\r\nimport axios from 'axios';\r\n\r\nclass Announcements extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.componentDidMount = this.componentDidMount.bind(this);\r\n        this.count = this.count.bind(this);\r\n        this.lang2 = this.lang2.bind(this)\r\n    }\r\n    state = {\r\n      loading:true,\r\n        posts:[],\r\n        cart:0,\r\n        wishlist:0,\r\n        lang:''\r\n      }\r\n      lang2(ev){\r\n        localStorage.setItem('lang',ev);\r\n        this.setState({\r\n            lang:ev\r\n        })\r\n    \r\n      }\r\n      componentDidMount()\r\n      {\r\n        this.setState({\r\n          posts:[],\r\n        })\r\n        axios.get(\"http://127.0.0.1:8000/asdfasdf/\")\r\n        .then(booksList => {\r\n            console.log(booksList.data)\r\n         if(this.state.posts !== booksList.data)\r\n         {\r\n            this.setState({ posts: booksList.data,loading:false});\r\n         }  \r\n        });\r\n        axios.get('http://127.0.0.1:8000/sdlkewrws/')\r\n        .then(response => {\r\n          this.setState({\r\n            cart:response.data.cart,\r\n            wishlist:response.data.wishlist\r\n          })\r\n        })\r\n      }\r\n      count(){\r\n        axios.get('http://127.0.0.1:8000/sdlkewrws/')\r\n        .then(response => {\r\n        this.setState({\r\n            cart:response.data.cart,\r\n            wishlist:response.data.wishlist\r\n        })\r\n        })\r\n    }\r\n    render() { \r\n        if(this.state.loading){\r\n          return <Loading />\r\n        }\r\n        else{\r\n          return ( \r\n            <div>\r\n                <Navbar state={this.state} lang2={this.lang2} /><br/>\r\n                <div className=\"container\">\r\n                    <h3>Your Announcement</h3><br/>\r\n                    <p>After Your product is sold,Please press \"delete\" button</p>\r\n                    <div className='container'>\r\n                        <div className='row'>\r\n                        {this.state.posts.length > 0 ?\r\n                           <React.Fragment>\r\n                             <table class=\"table table-hover\">\r\n                                <tbody>\r\n                                <tr>\r\n                                    <td>Product Name</td>\r\n                                    <td>Date</td>\r\n                                    <td>Edit</td>\r\n                                    <td>Delete</td>\r\n                                </tr>\r\n                                  {this.state.posts.map(post => <Announce_post key = {post.id} mount = {this.componentDidMount} post = {post} /> )}\r\n                                </tbody>\r\n                            </table>\r\n                          </React.Fragment> : <div className='alert alert-danger'>You have never create any announcement</div>} \r\n        </div></div> \r\n                </div>\r\n            </div>\r\n         );\r\n        }\r\n    }\r\n}\r\n \r\nexport default Announcements;"]},"metadata":{},"sourceType":"module"}