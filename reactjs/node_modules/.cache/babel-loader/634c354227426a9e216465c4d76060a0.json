{"ast":null,"code":"var _jsxFileName = \"C:\\\\For Personal Use\\\\Django Projects\\\\github\\\\django-react\\\\a\\\\reactjs\\\\src\\\\pages\\\\announcements.jsx\";\nimport 'whatwg-fetch';\nimport React, { Component } from 'react';\nimport Navbar from './compenents/Navbar';\nimport Loading from './compenents/loading';\nimport Announce_post from './compenents/announce_part';\nimport axios from 'axios';\nimport { I18nProvider, LOCALES } from './i18n';\nimport translate from './i18n/tranlate';\nimport { Redirect } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Announcements extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      posts: [],\n      cart: 0,\n      wishlist: 0,\n      lang: ''\n    };\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.count = this.count.bind(this);\n    this.lang2 = this.lang2.bind(this);\n  }\n\n  lang2(ev) {\n    localStorage.setItem('lang', ev);\n    this.setState({\n      lang: ev\n    });\n  }\n\n  componentDidMount() {\n    this.setState({\n      posts: []\n    });\n    axios.get(\"http://127.0.0.1:8000/asdfasdf/\").then(booksList => {\n      console.log(booksList.data);\n\n      if (this.state.posts !== booksList.data) {\n        this.setState({\n          posts: booksList.data,\n          loading: false\n        });\n      }\n    });\n    axios.get('http://127.0.0.1:8000/sdlkewrws/').then(response => {\n      this.setState({\n        cart: response.data.cart,\n        wishlist: response.data.wishlist\n      });\n    });\n  }\n\n  count() {\n    axios.get('http://127.0.0.1:8000/sdlkewrws/').then(response => {\n      this.setState({\n        cart: response.data.cart,\n        wishlist: response.data.wishlist\n      });\n    });\n  }\n\n  lang1() {\n    if (localStorage.getItem('lang') === 'en') {\n      return LOCALES.English;\n    } else if (localStorage.getItem('lang') === 'ru') {\n      return LOCALES.Russian;\n    } else if (localStorage.getItem('lang') === 'uz') {\n      return LOCALES.Uzbek;\n    } else {\n      console.log(\"Error\");\n    }\n  }\n\n  render() {\n    if (this.props.state.user === 'False') {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 14\n      }, this);\n    } else {\n      if (this.state.loading) {\n        return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 16\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(I18nProvider, {\n          locale: this.lang1(),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: translate('Your_Announcement')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 58\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: translate('announce_info')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"container\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: this.state.posts.length > 0 ? /*#__PURE__*/_jsxDEV(React.Fragment, {\n                    children: /*#__PURE__*/_jsxDEV(\"table\", {\n                      class: \"table table-hover\",\n                      children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                            children: translate('p_name')\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 99,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            children: translate('date')\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 100,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            children: translate('edit')\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 101,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            children: translate('delete')\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 102,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 98,\n                          columnNumber: 29\n                        }, this), this.state.posts.map(post => /*#__PURE__*/_jsxDEV(Announce_post, {\n                          mount: this.componentDidMount,\n                          post: post\n                        }, post.id, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 104,\n                          columnNumber: 59\n                        }, this))]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 97,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 96,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 23\n                  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"alert alert-danger\",\n                    children: \"You have never create any announcement\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 43\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this);\n      }\n    }\n  }\n\n}\n\nexport default Announcements;","map":{"version":3,"sources":["C:/For Personal Use/Django Projects/github/django-react/a/reactjs/src/pages/announcements.jsx"],"names":["React","Component","Navbar","Loading","Announce_post","axios","I18nProvider","LOCALES","translate","Redirect","Announcements","constructor","props","state","loading","posts","cart","wishlist","lang","componentDidMount","bind","count","lang2","ev","localStorage","setItem","setState","get","then","booksList","console","log","data","response","lang1","getItem","English","Russian","Uzbek","render","user","length","map","post","id"],"mappings":"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","sourcesContent":["\r\nimport 'whatwg-fetch'\r\nimport React, { Component } from 'react';\r\nimport Navbar from './compenents/Navbar';\r\nimport Loading from './compenents/loading';\r\nimport Announce_post from './compenents/announce_part';\r\nimport axios from 'axios';\r\nimport { I18nProvider, LOCALES } from './i18n';\r\nimport translate from './i18n/tranlate';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass Announcements extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.componentDidMount = this.componentDidMount.bind(this);\r\n    this.count = this.count.bind(this);\r\n    this.lang2 = this.lang2.bind(this)\r\n  }\r\n  state = {\r\n    loading: true,\r\n    posts: [],\r\n    cart: 0,\r\n    wishlist: 0,\r\n    lang: ''\r\n  }\r\n  lang2(ev) {\r\n    localStorage.setItem('lang', ev);\r\n    this.setState({\r\n      lang: ev\r\n    })\r\n\r\n  }\r\n  componentDidMount() {\r\n    this.setState({\r\n      posts: [],\r\n    })\r\n    axios.get(\"http://127.0.0.1:8000/asdfasdf/\")\r\n      .then(booksList => {\r\n        console.log(booksList.data)\r\n        if (this.state.posts !== booksList.data) {\r\n          this.setState({ posts: booksList.data, loading: false });\r\n        }\r\n      });\r\n    axios.get('http://127.0.0.1:8000/sdlkewrws/')\r\n      .then(response => {\r\n        this.setState({\r\n          cart: response.data.cart,\r\n          wishlist: response.data.wishlist\r\n        })\r\n      })\r\n  }\r\n  count() {\r\n    axios.get('http://127.0.0.1:8000/sdlkewrws/')\r\n      .then(response => {\r\n        this.setState({\r\n          cart: response.data.cart,\r\n          wishlist: response.data.wishlist\r\n        })\r\n      })\r\n  }\r\n  lang1() {\r\n    if (localStorage.getItem('lang') === 'en') {\r\n\r\n      return LOCALES.English\r\n    }\r\n    else if (localStorage.getItem('lang') === 'ru') {\r\n      return LOCALES.Russian\r\n    }\r\n    else if (localStorage.getItem('lang') === 'uz') {\r\n      return LOCALES.Uzbek\r\n    }\r\n    else {\r\n      console.log(\"Error\")\r\n    }\r\n  }\r\n  render() {\r\n    if (this.props.state.user === 'False') {\r\n      return <Redirect to=\"/\" />\r\n    }\r\n    else {\r\n      if (this.state.loading) {\r\n        return <Loading />\r\n      }\r\n      else {\r\n        return (\r\n          <I18nProvider locale={this.lang1()}>\r\n            <div>\r\n\r\n              <div className=\"container\">\r\n                <h3>{translate('Your_Announcement')}</h3><br />\r\n                <p>{translate('announce_info')}</p>\r\n                <div className='container'>\r\n                  <div className='row'>\r\n                    {this.state.posts.length > 0 ?\r\n                      <React.Fragment>\r\n                        <table class=\"table table-hover\">\r\n                          <tbody>\r\n                            <tr>\r\n                              <td>{translate('p_name')}</td>\r\n                              <td>{translate('date')}</td>\r\n                              <td>{translate('edit')}</td>\r\n                              <td>{translate('delete')}</td>\r\n                            </tr>\r\n                            {this.state.posts.map(post => <Announce_post key={post.id} mount={this.componentDidMount} post={post} />)}\r\n                          </tbody>\r\n                        </table>\r\n                      </React.Fragment> : <div className='alert alert-danger'>You have never create any announcement</div>}\r\n                  </div></div>\r\n              </div>\r\n            </div>\r\n\r\n          </I18nProvider>\r\n        );\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default Announcements;"]},"metadata":{},"sourceType":"module"}