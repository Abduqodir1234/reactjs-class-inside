{"ast":null,"code":"var _jsxFileName = \"C:\\\\For Personal Use\\\\Django Projects\\\\github\\\\django-react\\\\a\\\\reactjs\\\\src\\\\pages\\\\updateproduct.jsx\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport cookie from 'react-cookies';\nimport { Redirect } from 'react-router';\nimport Navbar from './compenents/Navbar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UpdateProduct extends Component {\n  constructor(props) {\n    super(props);\n    this.lang2 = this.lang2.bind(this);\n    this.state = {\n      name: null,\n      color: null,\n      desc: null,\n      price: null,\n      sale: false,\n      price_in_sale: 2,\n      quantity: null,\n      img: undefined,\n      size: null,\n      category: null,\n      brand: null,\n      cart: 0,\n      wishlist: 0,\n      lang: '',\n      user: this.props.state.user\n    };\n    this.handleForm = this.handleForm.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleFileForm = this.handleFileForm.bind(this);\n    this.price = this.price.bind(this);\n    this.clear = this.clear.bind(this);\n  }\n\n  lang2(ev) {\n    localStorage.setItem('lang', ev);\n    this.setState({\n      lang: ev\n    });\n  }\n\n  componentDidMount() {\n    const id = this.props.match.params.id;\n    axios.get('http://127.0.0.1:8000/detail/' + id + '/').then(response => {\n      this.setState({\n        name: response.data.name,\n        color: response.data.color,\n        desc: response.data.desc,\n        price: response.data.price,\n        sale: response.data.sale,\n        price_in_sale: response.data.price_in_sale,\n        quantity: response.data.quantity,\n        img: response.data.img,\n        size: response.data.size,\n        category: response.data.category,\n        brand: response.data.brand\n      });\n    });\n  }\n\n  handleForm(event) {\n    let comp = this;\n    console.log(event.target.name, event.target.value);\n\n    if (event.target.name === 'sale') {\n      if (event.target.checked === true) {\n        comp.setState({\n          sale: null\n        });\n        comp.setState({\n          sale: true\n        });\n        console.log(\"Sale:False\");\n      } else {\n        comp.setState({\n          sale: null\n        });\n        comp.setState({\n          sale: false\n        });\n        console.log(\"Sale:True\");\n      }\n    } else {\n      this.setState({\n        [event.target.name]: null\n      });\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n      console.log('not checkbox');\n    }\n  }\n\n  price() {\n    if (this.state.sale) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"price\",\n          children: \"Price In Sale\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: \"1\",\n          name: \"price_in_sale\",\n          value: this.state.price_in_sale,\n          readOnly: true,\n          className: \"form-control\",\n          onChange: this.handleForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 21\n      }, this);\n    }\n  }\n\n  handleSubmit(event) {\n    let id = this.props.match.params.id;\n    let csrf = cookie.load('csrftoken');\n    var formData = new FormData();\n    console.log(typeof this.state.img);\n\n    if (typeof this.state.img !== typeof \"AAAA\") {\n      console.log('Not String');\n      formData.append('img', this.state.img);\n    }\n\n    formData.append('name', this.state.name);\n    formData.append('color', this.state.color);\n    formData.append('desc', this.state.desc);\n    formData.append('price', this.state.price);\n    formData.append('price_in_sale', this.state.sale ? this.state.price_in_sale : 2);\n    formData.append('sale', this.state.sale);\n    formData.append('quantity', this.state.quantity);\n    formData.append('size', this.state.size);\n    formData.append('category', this.state.category);\n    formData.append('brand', this.state.brand);\n    event.preventDefault();\n    console.log(formData);\n    axios({\n      method: 'PUT',\n      url: 'http://127.0.0.1:8000/detail/' + id + '/',\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n        'X-CSRFToken': csrf\n      },\n      data: formData,\n      credentials: 'include'\n    }).catch(errors => {\n      console.log(errors);\n    });\n    axios.get('http://127.0.0.1:8000/sdlkewrws/').then(response => {\n      this.setState({\n        cart: response.data.cart,\n        wishlist: response.data.wishlist\n      });\n    });\n    this.clear();\n    this.componentDidMount();\n  }\n\n  clear() {\n    this.ppp.reset();\n  }\n\n  handleFileForm(event) {\n    event.preventDefault();\n    let files = event.target.files;\n    this.setState({\n      img: files[0]\n    }, () => console.log(this.state));\n  }\n\n  count() {\n    axios.get('http://127.0.0.1:8000/sdlkewrws/').then(response => {\n      this.setState({\n        cart: response.data.cart,\n        wishlist: response.data.wishlist\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.handleSubmit,\n          className: \"container\",\n          ref: el => this.ppp = el,\n          encType: \"multipart/form-data\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: \"Product Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"name\",\n            defaultValue: this.state.name,\n            name: \"name\",\n            className: \"form-control\",\n            onChange: this.handleForm,\n            required: \"required\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"quantity\",\n            children: \"Quantity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"quantity\",\n            defaultValue: this.state.quantity,\n            className: \"form-control\",\n            name: \"quantity\",\n            required: \"required\",\n            onChange: this.handleForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"price\",\n            children: \"Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"price\",\n            name: \"price\",\n            defaultValue: this.state.price,\n            readOnly: true,\n            className: \"form-control\",\n            onChange: this.handleForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"custom-control custom-checkbox\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              className: \"custom-control-input\",\n              id: \"customCheck\",\n              name: \"sale\",\n              checked: this.state.sale,\n              onChange: this.handleForm\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"custom-control-label\",\n              htmlFor: \"customCheck\",\n              children: \" Sale\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 29\n          }, this), this.price(), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"img\",\n            children: \"Main Image of Product: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            name: \"img\",\n            accept: \".jpg,.png,.svg\",\n            defaultValue: this.state.img,\n            onChange: this.handleFileForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 29\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"label\", {\n            onClick: this.handleSubmit,\n            className: \"btn btn-sm btn-info\",\n            children: \"Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 147\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 230\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n              src: this.state.img,\n              width: \"100px\",\n              height: \"100px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 102\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"size\",\n            children: \"Available sizes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"size\",\n            className: \"form-control\",\n            defaultValue: this.state.size,\n            onChange: this.handleForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"color\",\n            children: \"Color of Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"color\",\n            className: \"form-control\",\n            defaultValue: this.state.color,\n            onChange: this.handleForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"desc\",\n            children: \"Full Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            cols: \"30\",\n            rows: \"10\",\n            name: \"desc\",\n            defaultValue: this.state.desc,\n            className: \"form-control\",\n            onChange: this.handleForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"category\",\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            name: \"category\",\n            defaultValue: this.state.category,\n            class: \"custom-select mb-3\",\n            onChange: this.handleForm,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Fashion & Beauty\",\n              children: \"Fashion & Beauty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Kids & Babies Clothes\",\n              children: \"Kids & Babies Clothes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Men & Women  Clothes\",\n              children: \"Men & Women  Clothes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Gadgets & Accessories\",\n              children: \"Gadgets & Accessories\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Electronics & Accessories\",\n              children: \"Electronics & Accessories\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"brand\",\n            children: \"Brand\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"brand\",\n            defaultValue: this.state.brand,\n            className: \"form-control\",\n            onChange: this.handleForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 35\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            onClick: this.handleSubmit,\n            className: \"btn btn-info\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 42\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 17\n    }, this);\n  }\n\n}\n\nexport default UpdateProduct;","map":{"version":3,"sources":["C:/For Personal Use/Django Projects/github/django-react/a/reactjs/src/pages/updateproduct.jsx"],"names":["axios","React","Component","cookie","Redirect","Navbar","UpdateProduct","constructor","props","lang2","bind","state","name","color","desc","price","sale","price_in_sale","quantity","img","undefined","size","category","brand","cart","wishlist","lang","user","handleForm","handleSubmit","handleFileForm","clear","ev","localStorage","setItem","setState","componentDidMount","id","match","params","get","then","response","data","event","comp","console","log","target","value","checked","csrf","load","formData","FormData","append","preventDefault","method","url","headers","credentials","catch","errors","ppp","reset","files","count","render","el"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport React, { Component } from 'react';\r\nimport cookie from 'react-cookies'\r\nimport { Redirect } from 'react-router';\r\nimport Navbar from './compenents/Navbar';\r\n\r\nclass UpdateProduct extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.lang2 = this.lang2.bind(this)\r\n        this.state = {\r\n            name: null,\r\n            color: null,\r\n            desc: null,\r\n            price: null,\r\n            sale: false,\r\n            price_in_sale: 2,\r\n            quantity: null,\r\n            img: undefined,\r\n            size: null,\r\n            category: null,\r\n            brand: null,\r\n            cart: 0,\r\n            wishlist: 0,\r\n            lang: '',\r\n            user: this.props.state.user,\r\n        }\r\n        this.handleForm = this.handleForm.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.handleFileForm = this.handleFileForm.bind(this);\r\n        this.price = this.price.bind(this)\r\n        this.clear = this.clear.bind(this)\r\n    }\r\n    lang2(ev) {\r\n        localStorage.setItem('lang', ev);\r\n        this.setState({\r\n            lang: ev\r\n        })\r\n\r\n    }\r\n    componentDidMount() {\r\n        const id= this.props.match.params.id;\r\n        axios.get('http://127.0.0.1:8000/detail/' + id + '/')\r\n            .then(response => {\r\n                this.setState({\r\n                    name: response.data.name,\r\n                    color: response.data.color,\r\n                    desc: response.data.desc,\r\n                    price: response.data.price,\r\n                    sale: response.data.sale,\r\n                    price_in_sale: response.data.price_in_sale,\r\n                    quantity: response.data.quantity,\r\n                    img: response.data.img,\r\n                    size: response.data.size,\r\n                    category: response.data.category,\r\n                    brand: response.data.brand,\r\n                })\r\n            })\r\n    }\r\n    handleForm(event) {\r\n        let comp = this;\r\n        console.log(event.target.name, event.target.value)\r\n        if (event.target.name === 'sale') {\r\n            if (event.target.checked === true) {\r\n                comp.setState({\r\n                    sale: null\r\n                })\r\n                comp.setState({\r\n                    sale: true\r\n                })\r\n                console.log(\"Sale:False\")\r\n            }\r\n            else {\r\n                comp.setState({\r\n                    sale: null\r\n                })\r\n                comp.setState({\r\n                    sale: false\r\n                })\r\n                console.log(\"Sale:True\")\r\n            }\r\n        }\r\n        else {\r\n            this.setState({\r\n                [event.target.name]: null\r\n            })\r\n            this.setState({\r\n                [event.target.name]: event.target.value,\r\n            })\r\n            console.log('not checkbox')\r\n        }\r\n\r\n\r\n    }\r\n    price() {\r\n        if (this.state.sale) {\r\n            return (<div>\r\n                <label htmlFor=\"price\">Price In Sale</label>\r\n                <input type=\"number\" value='1' name=\"price_in_sale\" value={this.state.price_in_sale} readOnly className='form-control' onChange={this.handleForm} />\r\n            </div>)\r\n        }\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        let id = this.props.match.params.id;\r\n        let csrf = cookie.load('csrftoken');\r\n        var formData = new FormData();\r\n        console.log(typeof (this.state.img))\r\n        if (typeof (this.state.img) !== typeof (\"AAAA\")) {\r\n            console.log('Not String')\r\n            formData.append('img', this.state.img)\r\n        }\r\n        formData.append('name', this.state.name)\r\n        formData.append('color', this.state.color)\r\n        formData.append('desc', this.state.desc)\r\n        formData.append('price', this.state.price)\r\n        formData.append('price_in_sale', this.state.sale ? this.state.price_in_sale : 2)\r\n        formData.append('sale', this.state.sale)\r\n        formData.append('quantity', this.state.quantity)\r\n        formData.append('size', this.state.size)\r\n        formData.append('category', this.state.category)\r\n        formData.append('brand', this.state.brand)\r\n        event.preventDefault();\r\n        console.log(formData)\r\n        axios({\r\n            method: 'PUT',\r\n            url: 'http://127.0.0.1:8000/detail/' + id + '/',\r\n            headers: {\r\n                \"Content-Type\": \"multipart/form-data\",\r\n                'X-CSRFToken': csrf\r\n            },\r\n            data: formData,\r\n            credentials: 'include'\r\n        })\r\n            .catch(errors => {\r\n                console.log(errors)\r\n            })\r\n        axios.get('http://127.0.0.1:8000/sdlkewrws/')\r\n            .then(response => {\r\n                this.setState({\r\n                    cart: response.data.cart,\r\n                    wishlist: response.data.wishlist\r\n                })\r\n            })\r\n        this.clear()\r\n        this.componentDidMount()\r\n    }\r\n    clear() {\r\n        this.ppp.reset();\r\n    }\r\n    handleFileForm(event) {\r\n        event.preventDefault();\r\n        let files = event.target.files;\r\n        this.setState({\r\n            img: files[0]\r\n        }, () => console.log(this.state));\r\n    }\r\n    count() {\r\n        axios.get('http://127.0.0.1:8000/sdlkewrws/')\r\n            .then(response => {\r\n                this.setState({\r\n                    cart: response.data.cart,\r\n                    wishlist: response.data.wishlist\r\n                })\r\n            })\r\n    }\r\n    render() {\r\n            return (\r\n                <div>\r\n\r\n                    <div className='container'>\r\n                        <form onSubmit={this.handleSubmit} className='container' ref={(el) => this.ppp = el} encType=\"multipart/form-data\">\r\n                            <label htmlFor='name'>Product Name</label>\r\n                            <input type=\"text\" id='name' defaultValue={this.state.name} name=\"name\" className='form-control' onChange={this.handleForm} required='required' />\r\n                            <label htmlFor=\"quantity\">Quantity</label>\r\n                            <input type=\"number\" id='quantity' defaultValue={this.state.quantity} className='form-control' name=\"quantity\" required='required' onChange={this.handleForm} />\r\n                            <label htmlFor=\"price\">Price</label>\r\n                            <input type=\"number\" id='price' name=\"price\" defaultValue={this.state.price} readOnly className='form-control' onChange={this.handleForm} />\r\n                            <div className=\"custom-control custom-checkbox\">\r\n                                <input type=\"checkbox\" className=\"custom-control-input\" id=\"customCheck\" name=\"sale\" checked={this.state.sale} onChange={this.handleForm} />\r\n                                <label className=\"custom-control-label\" htmlFor=\"customCheck\"> Sale</label>\r\n                            </div>\r\n                            {this.price()}\r\n                            <label htmlFor=\"img\">Main Image of Product: </label>\r\n                            <input type=\"file\" name='img' accept='.jpg,.png,.svg' defaultValue={this.state.img} onChange={this.handleFileForm} /> <label onClick={this.handleSubmit} className='btn btn-sm btn-info'>Preview</label> <br />\r\n                            <label> <img src={this.state.img} width='100px' height='100px' /></label><br />\r\n                            <label htmlFor=\"size\">Available sizes</label>\r\n                            <input type=\"text\" name=\"size\" className='form-control' defaultValue={this.state.size} onChange={this.handleForm} />\r\n                            <label htmlFor=\"color\">Color of Product</label>\r\n                            <input type=\"text\" name=\"color\" className='form-control' defaultValue={this.state.color} onChange={this.handleForm} />\r\n                            <label htmlFor=\"desc\">Full Description</label>\r\n                            <textarea cols=\"30\" rows=\"10\" name=\"desc\" defaultValue={this.state.desc} className='form-control' onChange={this.handleForm}></textarea>\r\n                            <label htmlFor=\"category\">Category</label>\r\n                            <select name=\"category\" defaultValue={this.state.category} class=\"custom-select mb-3\" onChange={this.handleForm}>\r\n                                <option value=\"Fashion & Beauty\">Fashion & Beauty</option>\r\n                                <option value=\"Kids & Babies Clothes\">Kids & Babies Clothes</option>\r\n                                <option value=\"Men & Women  Clothes\">Men & Women  Clothes</option>\r\n                                <option value=\"Gadgets & Accessories\">Gadgets & Accessories</option>\r\n                                <option value=\"Electronics & Accessories\">Electronics & Accessories</option>\r\n                            </select>\r\n                            <label htmlFor=\"brand\">Brand</label>\r\n                            <input type=\"text\" name=\"brand\" defaultValue={this.state.brand} className='form-control' onChange={this.handleForm} />\r\n                            <br /><br /> <input type=\"submit\" onClick={this.handleSubmit} className=\"btn btn-info\" />\r\n\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            );\r\n    }\r\n}\r\n\r\nexport default UpdateProduct;"]},"metadata":{},"sourceType":"module"}