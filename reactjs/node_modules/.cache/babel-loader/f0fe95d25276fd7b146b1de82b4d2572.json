{"ast":null,"code":"var _jsxFileName = \"C:\\\\For Personal Use\\\\Django Projects\\\\github\\\\django-react\\\\a\\\\reactjs\\\\src\\\\pages\\\\compenents\\\\profile_form.jsx\";\nimport axios from 'axios';\nimport cookie from 'react-cookies';\nimport React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport Navbar from './Navbar';\nimport { I18nProvider, LOCALES } from '../i18n';\nimport translate from '../i18n/tranlate';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ProfileForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: null,\n      username_error: '',\n      first_name: null,\n      first_name_error: '',\n      last_name: null,\n      last_name_error: '',\n      email: null,\n      email: '',\n      wishlist: 0,\n      cart: 0\n    };\n    this.handlefield = this.handlefield.bind(this);\n    this.lang2 = this.lang2.bind(this);\n    this.handlesubmit = this.handlesubmit.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get('http://127.0.0.1:8000/rtqkaq2345akdker24/').then(response => {\n      this.setState({\n        username: response.data.username,\n        first_name: response.data.first_name,\n        last_name: response.data.last_name,\n        email: response.data.email\n      });\n    }).catch(errors => {\n      console.log(errors);\n    });\n    axios.get('http://127.0.0.1:8000/sdlkewrws/').then(response => {\n      this.setState({\n        cart: response.data.cart,\n        wishlist: response.data.wishlist\n      });\n    });\n  }\n\n  handlefield(event) {\n    event.preventDefault();\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  lang1() {\n    if (localStorage.getItem('lang') === 'en') {\n      return LOCALES.English;\n    } else if (localStorage.getItem('lang') === 'ru') {\n      return LOCALES.Russian;\n    } else if (localStorage.getItem('lang') === 'uz') {\n      return LOCALES.Uzbek;\n    } else {\n      console.log(\"Error\");\n    }\n  }\n\n  lang2(ev) {\n    localStorage.setItem('lang', ev);\n    this.setState({\n      lang: ev\n    });\n  }\n\n  handlesubmit(event) {\n    event.preventDefault();\n    console.log(this.state);\n    let csrf = cookie.load('csrftoken');\n    var formData = new FormData();\n    formData.append('first_name', this.state.first_name);\n    formData.append('last_name', this.state.last_name);\n    formData.append('email', this.state.email);\n    formData.append('username', this.state.username);\n    axios({\n      method: 'POST',\n      url: 'http://127.0.0.1:8000/rtqkaq2345akdker24/',\n      headers: {\n        'content-type': 'application/json',\n        'X-CSRFToken': csrf\n      },\n      data: formData,\n      credentials: 'include'\n    }).then(response => {\n      console.log(response);\n    }).catch(errors => {\n      if (errors.data.username) {\n        this.setState({\n          username_error: errors.data.username\n        });\n      } else if (errors.data.last_name) {\n        this.setState({\n          last_name_error: errors.data.last_name_error\n        });\n      } else if (errors.data.email) {\n        this.setState({\n          email_error: errors.data.email_error\n        });\n      } else if (errors.data.first_name) {\n        this.setState({\n          first_name_error: errors.data.first_name_error\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(I18nProvider, {\n      locale: this.lang1(),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Navbar, {\n          state: this.state,\n          lang2: this.lang2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: translate('e_y_profile')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 52\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 57\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: this.handlesubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"name\",\n              children: translate('name')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"first_name\",\n              id: \"name\",\n              defaultValue: this.state.first_name,\n              onChange: this.handlefield\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 21\n            }, this), this.state.username_error !== '' ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: 'red'\n              },\n              children: this.state.username_error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 57\n            }, this) : '', /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"surname\",\n              children: translate('surname')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"last_name\",\n              id: \"surname\",\n              defaultValue: this.state.last_name,\n              onChange: this.handlefield\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 21\n            }, this), this.state.last_name !== '' ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: 'red'\n              },\n              children: this.state.last_name_error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 52\n            }, this) : '', /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"username\",\n              children: translate('username')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"username\",\n              id: \"username\",\n              defaultValue: this.state.username,\n              onChange: this.handlefield\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 21\n            }, this), this.state.username_error !== '' ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: 'red'\n              },\n              children: this.state.username_error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 57\n            }, this) : '', /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              children: translate('email')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              className: \"form-control\",\n              name: \"email\",\n              id: \"email\",\n              defaultValue: this.state.email,\n              onChange: this.handlefield\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 21\n            }, this), this.state.email_error !== '' ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: 'red'\n              },\n              children: this.state.email_error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 54\n            }, this) : '', /*#__PURE__*/_jsxDEV(\"buttton\", {\n              type: \"submit\",\n              className: \"btn btn-info\",\n              children: translate('submit')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nexport default ProfileForm;","map":{"version":3,"sources":["C:/For Personal Use/Django Projects/github/django-react/a/reactjs/src/pages/compenents/profile_form.jsx"],"names":["axios","cookie","React","Component","Link","Navbar","I18nProvider","LOCALES","translate","ProfileForm","constructor","props","state","username","username_error","first_name","first_name_error","last_name","last_name_error","email","wishlist","cart","handlefield","bind","lang2","handlesubmit","componentDidMount","get","then","response","setState","data","catch","errors","console","log","event","preventDefault","target","name","value","lang1","localStorage","getItem","English","Russian","Uzbek","ev","setItem","lang","csrf","load","formData","FormData","append","method","url","headers","credentials","email_error","render","color"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport cookie from 'react-cookies'\r\nimport React, { Component } from 'react';\r\nimport {\r\n    Link\r\n  } from \"react-router-dom\";\r\nimport Navbar from './Navbar'\r\nimport { I18nProvider, LOCALES } from '../i18n';\r\nimport translate from '../i18n/tranlate';\r\nclass ProfileForm extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.handlefield = this.handlefield.bind(this);\r\n        this.lang2 = this.lang2.bind(this);\r\n        this.handlesubmit = this.handlesubmit.bind(this);\r\n    }\r\n    state = {\r\n        username:null,\r\n        username_error:'',\r\n        first_name:null,\r\n        first_name_error:'',\r\n        last_name:null,\r\n        last_name_error:'',\r\n        email:null,\r\n        email:'',\r\n        wishlist:0,\r\n        cart:0\r\n\r\n    }\r\n    componentDidMount(){\r\n        axios.get('http://127.0.0.1:8000/rtqkaq2345akdker24/')\r\n        .then(response =>{\r\n            this.setState({\r\n                username:response.data.username,\r\n                first_name:response.data.first_name,\r\n                last_name:response.data.last_name,\r\n                email:response.data.email\r\n            })\r\n        })\r\n        .catch(errors =>{\r\n            console.log(errors)\r\n        })\r\n        axios.get('http://127.0.0.1:8000/sdlkewrws/')\r\n        .then(response => {\r\n            this.setState({\r\n            cart:response.data.cart,\r\n            wishlist:response.data.wishlist\r\n            })\r\n        })\r\n    }\r\n    handlefield(event){\r\n        event.preventDefault();\r\n        this.setState({\r\n            [event.target.name]:event.target.value\r\n        })\r\n    }\r\n    lang1(){\r\n        if(localStorage.getItem('lang') === 'en'){\r\n            \r\n            return LOCALES.English\r\n        }\r\n        else if(localStorage.getItem('lang')=== 'ru'){\r\n            return LOCALES.Russian \r\n        }\r\n        else if(localStorage.getItem('lang')=== 'uz'){\r\n            return LOCALES.Uzbek\r\n        }\r\n        else{\r\n            console.log(\"Error\")\r\n        }\r\n    }\r\n    lang2(ev){\r\n        localStorage.setItem('lang',ev);\r\n        this.setState({\r\n            lang:ev\r\n        })\r\n    \r\n      }\r\n    handlesubmit(event){\r\n        event.preventDefault();\r\n        console.log(this.state)\r\n        let csrf = cookie.load('csrftoken')\r\n        var formData = new FormData()\r\n        formData.append('first_name',this.state.first_name);\r\n        formData.append('last_name',this.state.last_name);\r\n        formData.append('email',this.state.email);\r\n        formData.append('username',this.state.username);\r\n        axios({\r\n            method:'POST',\r\n            url:'http://127.0.0.1:8000/rtqkaq2345akdker24/',\r\n            headers:{\r\n                'content-type':'application/json',\r\n                'X-CSRFToken':csrf\r\n            },\r\n            data:formData,\r\n            credentials:'include'\r\n        })\r\n        .then(response =>{\r\n            console.log(response)\r\n        })\r\n        .catch(errors =>{\r\n            if(errors.data.username)\r\n            {\r\n                this.setState({\r\n                    username_error:errors.data.username\r\n                })\r\n            }\r\n            else if(errors.data.last_name){\r\n                this.setState({\r\n                    last_name_error:errors.data.last_name_error\r\n                })\r\n            }\r\n            else if(errors.data.email){\r\n                this.setState({\r\n                    email_error:errors.data.email_error\r\n                })\r\n            }\r\n            else if(errors.data.first_name){\r\n                this.setState({\r\n                    first_name_error:errors.data.first_name_error\r\n                })\r\n            }\r\n        })\r\n    }\r\n    render() { \r\n        return ( \r\n           <I18nProvider locale={this.lang1()}>\r\n                    <div>\r\n               <Navbar state={this.state} lang2={this.lang2} />\r\n                <div className=\"container\">\r\n                    \r\n                <h1>{translate('e_y_profile')}</h1><br/><br/>\r\n                <form  onSubmit={this.handlesubmit}>\r\n                    <label htmlFor=\"name\">{translate('name')}</label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"first_name\" id=\"name\" defaultValue={this.state.first_name} onChange = {this.handlefield} />\r\n                    {this.state.username_error !== '' ? <div style={{color:'red'}}>{this.state.username_error}</div> : ''}\r\n                    <label htmlFor=\"surname\">{translate('surname')}</label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"last_name\" id=\"surname\" defaultValue={this.state.last_name} onChange={this.handlefield}  />\r\n                    {this.state.last_name !== '' ? <div style={{color:'red'}}>{this.state.last_name_error}</div> : ''}\r\n                    <label htmlFor=\"username\">{translate('username')}</label>\r\n                    <input type=\"text\" className=\"form-control\" name=\"username\" id=\"username\" defaultValue={this.state.username} onChange={this.handlefield} />\r\n                    {this.state.username_error !== '' ? <div style={{color:'red'}}>{this.state.username_error}</div> :''}\r\n                    <label htmlFor=\"email\">{translate('email')}</label>\r\n                    <input type=\"email\" className=\"form-control\" name=\"email\" id=\"email\" defaultValue={this.state.email} onChange={this.handlefield} />\r\n                    {this.state.email_error !== '' ? <div style={{color:'red'}}>{this.state.email_error}</div>:''}\r\n                    <buttton type='submit' className=\"btn btn-info\">{translate('submit')}</buttton>\r\n                </form>\r\n            </div>\r\n           </div>\r\n           </I18nProvider>\r\n         );\r\n    }\r\n}\r\n \r\nexport default ProfileForm;"]},"metadata":{},"sourceType":"module"}